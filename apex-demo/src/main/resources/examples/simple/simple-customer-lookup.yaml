metadata:
  name: "Simple PostgreSQL Customer Lookup"
  description: "Simple lookup demonstration with PostgreSQL-compatible data structure"
  version: "1.0"
  type: "rule-config"
  author: "APEX Demo Team"

# Simple customer lookup enrichment using PostgreSQL-compatible inline dataset
enrichments:
  - id: "simple-customer-lookup"
    type: "lookup-enrichment"
    description: "Simple customer lookup with PostgreSQL-compatible data structure"
    condition: "#customerId != null && #customerId.length() > 0"

    lookup-config:
      lookup-key: "#customerId"
      lookup-dataset:
        type: "inline"
        key-field: "customer_id"
        data:
          # PostgreSQL-compatible customer data structure
          - customer_id: "CUST001"
            customer_name: "Alice Johnson"
            email: "alice@example.com"
          - customer_id: "CUST002"
            customer_name: "Bob Smith"
            email: "bob@example.com"
          - customer_id: "CUST003"
            customer_name: "Carol Davis"
            email: "carol@example.com"

    field-mappings:
      - source-field: "customer_name"
        target-field: "customerName"
      - source-field: "email"
        target-field: "customerEmail"
