# APEX Post-Trade Processing Service Demo Configuration
# Real APEX YAML configuration for post-trade processing service
# Replaces all hardcoded post-trade processing logic from PostTradeProcessingServiceDemo (@version 2.0)

metadata:
  id: "post-trade-processing-service-demo-config"
  name: "Post-Trade Processing Service Demo Configuration"
  version: "2.0.0"
  description: "APEX-compliant post-trade processing service with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "Post-Trade Processing"
  tags: ["post-trade", "processing", "demo", "enrichment", "workflow", "settlement", "business-rules"]

# APEX enrichment processing for post-trade processing operations (4 enrichments total)
enrichments:
  - id: "trade-workflow-enrichment"
    name: "trade-workflow"
    type: "calculation-enrichment"
    description: "Processes trade workflow processing with real APEX processing"
    condition: "#workflowType != null"
    calculation-config:
      expression: "'Trade workflow processing: ' + #workflowType + ' with ' + (#workflowScope != null ? #workflowScope : 'default-scope') + ' processing'"
      result-field: "tradeWorkflowResult"
    field-mappings:
      - source-field: "tradeWorkflowResult"
        target-field: "tradeWorkflowResult"
        
  - id: "settlement-operations-enrichment"
    name: "settlement-operations"
    type: "calculation-enrichment"
    description: "Processes settlement operations and lifecycle management"
    condition: "#settlementType != null"
    calculation-config:
      expression: "'Settlement operations processing: ' + #settlementType + ' with ' + (#settlementScope != null ? #settlementScope : 'default-lifecycle') + ' management'"
      result-field: "settlementOperationsResult"
    field-mappings:
      - source-field: "settlementOperationsResult"
        target-field: "settlementOperationsResult"
        
  - id: "business-rules-enrichment"
    name: "business-rules"
    type: "calculation-enrichment"
    description: "Processes business rules for post-trade compliance"
    condition: "#rulesType != null"
    calculation-config:
      expression: "'Business rules processing: ' + #rulesType + ' with ' + (#rulesScope != null ? #rulesScope : 'default-compliance') + ' validation'"
      result-field: "businessRulesResult"
    field-mappings:
      - source-field: "businessRulesResult"
        target-field: "businessRulesResult"
        
  - id: "post-trade-summary-enrichment"
    name: "post-trade-summary"
    type: "calculation-enrichment"
    description: "Generates comprehensive post-trade processing summary"
    condition: "true"
    calculation-config:
      expression: "'Post-trade processing completed using real APEX services with approach: ' + (#approach != null ? #approach : 'unknown')"
      result-field: "postTradeSummary"
    field-mappings:
      - source-field: "postTradeSummary"
        target-field: "postTradeSummary"
