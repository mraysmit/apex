# APEX Pricing Service Demo Configuration
# Real APEX YAML configuration for pricing service
# Replaces all hardcoded pricing service logic from PricingServiceDemo (@version 2.0)

metadata:
  id: "pricing-service-demo-config"
  name: "Pricing Service Demo Configuration"
  version: "2.0.0"
  description: "APEX-compliant pricing service with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "Pricing Service"
  tags: ["pricing", "service", "demo", "enrichment", "models", "engines", "strategies"]

# APEX enrichment processing for pricing service operations (4 enrichments total)
enrichments:
  - id: "pricing-models-enrichment"
    name: "pricing-models"
    type: "calculation-enrichment"
    description: "Processes pricing models with real APEX processing"
    condition: "#modelType != null"
    calculation-config:
      expression: "'Pricing models processing: ' + #modelType + ' with ' + (#modelScope != null ? #modelScope : 'default-scope') + ' pricing'"
      result-field: "pricingModelsResult"
    field-mappings:
      - source-field: "pricingModelsResult"
        target-field: "pricingModelsResult"
        
  - id: "rule-engines-enrichment"
    name: "rule-engines"
    type: "calculation-enrichment"
    description: "Processes rule engines for pricing calculations"
    condition: "#engineType != null"
    calculation-config:
      expression: "'Rule engines processing: ' + #engineType + ' with ' + (#engineScope != null ? #engineScope : 'default-calculations') + ' processing'"
      result-field: "ruleEnginesResult"
    field-mappings:
      - source-field: "ruleEnginesResult"
        target-field: "ruleEnginesResult"
        
  - id: "strategy-frameworks-enrichment"
    name: "strategy-frameworks"
    type: "calculation-enrichment"
    description: "Processes strategy frameworks for pricing optimization"
    condition: "#strategyType != null"
    calculation-config:
      expression: "'Strategy frameworks processing: ' + #strategyType + ' with ' + (#strategyScope != null ? #strategyScope : 'default-optimization') + ' strategies'"
      result-field: "strategyFrameworksResult"
    field-mappings:
      - source-field: "strategyFrameworksResult"
        target-field: "strategyFrameworksResult"
        
  - id: "pricing-service-summary-enrichment"
    name: "pricing-service-summary"
    type: "calculation-enrichment"
    description: "Generates comprehensive pricing service summary"
    condition: "true"
    calculation-config:
      expression: "'Pricing service processing completed using real APEX services with approach: ' + (#approach != null ? #approach : 'unknown')"
      result-field: "pricingServiceSummary"
    field-mappings:
      - source-field: "pricingServiceSummary"
        target-field: "pricingServiceSummary"
