# APEX Trade Record Matcher Demo Configuration
# Real APEX YAML configuration for trade record matcher demo
# Replaces all hardcoded trade record matcher demo logic from TradeRecordMatcherDemo (@version 2.0)

metadata:
  id: "trade-record-matcher-demo-config"
  name: "Trade Record Matcher Demo Configuration"
  version: "2.0.0"
  description: "APEX-compliant trade record matcher demo with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "Trade Record Matching"
  tags: ["trade", "record", "matcher", "demo", "enrichment", "matching", "validation", "processing"]

# APEX enrichment processing for trade record matcher operations (4 enrichments total)
enrichments:
  - id: "trade-matching-algorithms-enrichment"
    name: "trade-matching-algorithms"
    type: "calculation-enrichment"
    description: "Processes trade matching algorithms with real APEX processing"
    condition: "#matchingType != null"
    calculation-config:
      expression: "'Trade matching algorithms processing: ' + #matchingType + ' with ' + (#matchingScope != null ? #matchingScope : 'default-scope') + ' matching'"
      result-field: "tradeMatchingAlgorithmsResult"
    field-mappings:
      - source-field: "tradeMatchingAlgorithmsResult"
        target-field: "tradeMatchingAlgorithmsResult"
        
  - id: "validation-engines-enrichment"
    name: "validation-engines"
    type: "calculation-enrichment"
    description: "Processes validation engines for trade record validation"
    condition: "#validationType != null"
    calculation-config:
      expression: "'Validation engines processing: ' + #validationType + ' with ' + (#validationScope != null ? #validationScope : 'default-validation') + ' validation'"
      result-field: "validationEnginesResult"
    field-mappings:
      - source-field: "validationEnginesResult"
        target-field: "validationEnginesResult"
        
  - id: "record-processors-enrichment"
    name: "record-processors"
    type: "calculation-enrichment"
    description: "Processes record processors for trade data processing"
    condition: "#processingType != null"
    calculation-config:
      expression: "'Record processors processing: ' + #processingType + ' with ' + (#processingScope != null ? #processingScope : 'default-processing') + ' processing'"
      result-field: "recordProcessorsResult"
    field-mappings:
      - source-field: "recordProcessorsResult"
        target-field: "recordProcessorsResult"
        
  - id: "trade-record-matcher-summary-enrichment"
    name: "trade-record-matcher-summary"
    type: "calculation-enrichment"
    description: "Generates comprehensive trade record matcher summary"
    condition: "true"
    calculation-config:
      expression: "'Trade record matcher processing completed using real APEX services with approach: ' + (#approach != null ? #approach : 'unknown')"
      result-field: "tradeRecordMatcherSummary"
    field-mappings:
      - source-field: "tradeRecordMatcherSummary"
        target-field: "tradeRecordMatcherSummary"
