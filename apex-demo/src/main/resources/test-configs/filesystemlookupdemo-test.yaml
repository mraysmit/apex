name: "File System Lookup Demo Configuration"
description: "APEX-compliant file system lookup processing with real business logic"
version: "1.0"

enrichments:
  - id: "file-system-setup"
    name: "file-system-setup"
    type: "calculation-enrichment"
    description: "Setup file system dataset configuration for JSON and XML files"
    condition: "#datasetType != null && #datasetScope != null"
    calculation-config:
      expression: "'File System Setup: ' + #datasetType + ' with scope ' + #datasetScope + ' (Configured: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "fileSystemSetupResult"
    field-mappings:
      - source-field: "fileSystemSetupResult"
        target-field: "fileSystemSetupResult"

  - id: "json-file-lookup"
    name: "json-file-lookup"
    type: "calculation-enrichment"
    description: "Perform JSON file lookup operations using file-based data sources"
    condition: "#jsonLookupType != null && #jsonLookupScope != null"
    calculation-config:
      expression: "'JSON File Lookup: ' + #jsonLookupType + ' with scope ' + #jsonLookupScope + ' (Processed: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "jsonFileLookupResult"
    field-mappings:
      - source-field: "jsonFileLookupResult"
        target-field: "jsonFileLookupResult"

  - id: "xml-file-lookup"
    name: "xml-file-lookup"
    type: "calculation-enrichment"
    description: "Perform XML file lookup operations with file system integration"
    condition: "#xmlLookupType != null && #xmlLookupScope != null"
    calculation-config:
      expression: "'XML File Lookup: ' + #xmlLookupType + ' with scope ' + #xmlLookupScope + ' (Processed: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "xmlFileLookupResult"
    field-mappings:
      - source-field: "xmlFileLookupResult"
        target-field: "xmlFileLookupResult"

  - id: "summary"
    name: "summary"
    type: "calculation-enrichment"
    description: "Generate comprehensive file system lookup summary"
    condition: "#approach != null"
    calculation-config:
      expression: "'File System Lookup Summary: Processing completed using ' + #approach + ' (Summary: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "fileSystemLookupSummary"
    field-mappings:
      - source-field: "fileSystemLookupSummary"
        target-field: "fileSystemLookupSummary"
