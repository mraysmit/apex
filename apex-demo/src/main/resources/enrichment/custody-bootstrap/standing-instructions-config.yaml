# APEX Standing Instructions Configuration
# External data source configuration for standing instructions processing
# Replaces hardcoded standing instruction creation from CustodyAutoRepairBootstrap

type: "apex-enrichment-config"
name: "Standing Instructions Configuration"
  version: "2.0.0"
  description: "Data-driven standing instructions configuration for custody auto-repair processing"
  type: "external-data-config"
  author: "Mark Andrew Ray-Smith Cityline Ltd"
  created-date: "2025-09-01"
  domain: "Custody and Safekeeping"
  tags: ["standing-instructions", "custody", "auto-repair", "external-data"]

# Standing instructions configuration by instruction type
data:
  client-level-instructions:
    instruction-type: "client-level-instructions"
    instruction-name: "Client-Level Standing Instructions"
    description: "Client-specific standing instructions for custody operations"
    instruction-parameters:
      priority-level: "high"
      scope: "client-specific"
      override-capability: "full"
    client-instructions:
      premium-asia-client:
        client-id: "CLIENT_PREMIUM_ASIA_001"
        client-name: "Premium Asset Management Asia Ltd"
        client-tier: "PREMIUM"
        standing-instruction:
          instruction-id: "SI_PREMIUM_ASIA_001"
          instruction-name: "Premium Asset Management Asia - Default SI"
          default-counterparty:
            counterparty-id: "CP_PREMIUM_GLOBAL_CUSTODY"
            counterparty-name: "Premium Global Custody Services"
            counterparty-type: "GLOBAL_CUSTODIAN"
          default-custodian:
            custodian-id: "CUST_PREMIUM_GLOBAL"
            custodian-name: "Premium Global Custodian Ltd"
            custodian-type: "GLOBAL_CUSTODIAN"
          default-settlement:
            settlement-method: "DVP_PREMIUM"
            delivery-instruction: "DELIVER"
            settlement-currency: "USD"
          service-level:
            priority: "HIGH"
            sla-hours: 2
            dedicated-support: true
            
      standard-asia-client:
        client-id: "CLIENT_STANDARD_ASIA_002"
        client-name: "Standard Asset Management"
        client-tier: "STANDARD"
        standing-instruction:
          instruction-id: "SI_STANDARD_ASIA_002"
          instruction-name: "Standard Asset Management - Default SI"
          default-counterparty:
            counterparty-id: "CP_STANDARD_REGIONAL"
            counterparty-name: "Standard Regional Custody"
            counterparty-type: "REGIONAL_CUSTODIAN"
          default-custodian:
            custodian-id: "CUST_STANDARD_ASIA"
            custodian-name: "Standard Asia Custodian"
            custodian-type: "REGIONAL_CUSTODIAN"
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "USD"
          service-level:
            priority: "STANDARD"
            sla-hours: 4
            dedicated-support: false
            
      institutional-client:
        client-id: "CLIENT_INSTITUTIONAL_003"
        client-name: "Institutional Investment Partners"
        client-tier: "INSTITUTIONAL"
        standing-instruction:
          instruction-id: "SI_INSTITUTIONAL_003"
          instruction-name: "Institutional Investment Partners - Default SI"
          default-counterparty:
            counterparty-id: "CP_INSTITUTIONAL_GLOBAL"
            counterparty-name: "Institutional Global Custody"
            counterparty-type: "INSTITUTIONAL_CUSTODIAN"
          default-custodian:
            custodian-id: "CUST_INSTITUTIONAL_GLOBAL"
            custodian-name: "Institutional Global Custodian"
            custodian-type: "INSTITUTIONAL_CUSTODIAN"
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "USD"
          service-level:
            priority: "HIGH"
            sla-hours: 2
            dedicated-support: true
    instruction-settings:
      validation-required: true
      approval-workflow: "client-tier-based"
      audit-trail: "comprehensive"
    
  market-level-instructions:
    instruction-type: "market-level-instructions"
    instruction-name: "Market-Level Standing Instructions"
    description: "Market-specific standing instructions for custody operations"
    instruction-parameters:
      priority-level: "medium"
      scope: "market-specific"
      override-capability: "limited"
    market-instructions:
      japan-market:
        market-code: "JAPAN"
        market-name: "Japan Market"
        standing-instruction:
          instruction-id: "SI_JAPAN_MARKET"
          instruction-name: "Japan Market Default SI"
          is-market-level: true
          default-custodian:
            custodian-id: "CUST_JAPAN_STANDARD"
            custodian-name: "Japan Standard Custodian KK"
            custodian-type: "LOCAL_CUSTODIAN"
          default-counterparty:
            counterparty-id: "CP_JAPAN_STANDARD"
            counterparty-name: "Japan Standard Counterparty"
            counterparty-type: "LOCAL_COUNTERPARTY"
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "JPY"
          market-specifics:
            settlement-cycle: "T+2"
            market-hours: "09:00-15:00 JST"
            regulatory-regime: "JFSA"
            
      hong-kong-market:
        market-code: "HONG_KONG"
        market-name: "Hong Kong Market"
        standing-instruction:
          instruction-id: "SI_HONG_KONG_MARKET"
          instruction-name: "Hong Kong Market Default SI"
          is-market-level: true
          default-custodian:
            custodian-id: "CUST_HK_STANDARD"
            custodian-name: "Hong Kong Standard Custodian Ltd"
            custodian-type: "LOCAL_CUSTODIAN"
          default-counterparty:
            counterparty-id: "CP_HK_STANDARD"
            counterparty-name: "Hong Kong Standard Counterparty"
            counterparty-type: "LOCAL_COUNTERPARTY"
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "HKD"
          market-specifics:
            settlement-cycle: "T+2"
            market-hours: "09:30-16:00 HKT"
            regulatory-regime: "SFC"
            
      singapore-market:
        market-code: "SINGAPORE"
        market-name: "Singapore Market"
        standing-instruction:
          instruction-id: "SI_SINGAPORE_MARKET"
          instruction-name: "Singapore Market Default SI"
          is-market-level: true
          default-custodian:
            custodian-id: "CUST_SG_STANDARD"
            custodian-name: "Singapore Standard Custodian Pte Ltd"
            custodian-type: "LOCAL_CUSTODIAN"
          default-counterparty:
            counterparty-id: "CP_SG_STANDARD"
            counterparty-name: "Singapore Standard Counterparty"
            counterparty-type: "LOCAL_COUNTERPARTY"
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "SGD"
          market-specifics:
            settlement-cycle: "T+2"
            market-hours: "09:00-17:00 SGT"
            regulatory-regime: "MAS"
            
      korea-market:
        market-code: "KOREA"
        market-name: "Korea Market"
        standing-instruction:
          instruction-id: "SI_KOREA_MARKET"
          instruction-name: "Korea Market Default SI"
          is-market-level: true
          default-custodian:
            custodian-id: "CUST_KR_STANDARD"
            custodian-name: "Korea Standard Custodian Co Ltd"
            custodian-type: "LOCAL_CUSTODIAN"
          default-counterparty:
            counterparty-id: "CP_KR_STANDARD"
            counterparty-name: "Korea Standard Counterparty"
            counterparty-type: "LOCAL_COUNTERPARTY"
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "KRW"
          market-specifics:
            settlement-cycle: "T+2"
            market-hours: "09:00-15:30 KST"
            regulatory-regime: "FSC"
    instruction-settings:
      validation-required: true
      market-compliance: "mandatory"
      audit-trail: "standard"
    
  instrument-level-instructions:
    instruction-type: "instrument-level-instructions"
    instruction-name: "Instrument-Level Standing Instructions"
    description: "Instrument-specific standing instructions for custody operations"
    instruction-parameters:
      priority-level: "low"
      scope: "instrument-specific"
      override-capability: "minimal"
    instrument-instructions:
      equity-instruments:
        instrument-type: "EQUITY"
        instrument-category: "Equity Securities"
        standing-instruction:
          instruction-id: "SI_EQUITY_GLOBAL"
          instruction-name: "Global Equity Instrument SI"
          priority-score: 300
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "LOCAL"
          instrument-specifics:
            settlement-cycle: "T+2"
            corporate-actions: "automatic"
            dividend-processing: "reinvest"
            
      fixed-income-instruments:
        instrument-type: "FIXED_INCOME"
        instrument-category: "Fixed Income Securities"
        standing-instruction:
          instruction-id: "SI_FIXED_INCOME_GLOBAL"
          instruction-name: "Global Fixed Income SI"
          priority-score: 300
          default-settlement:
            settlement-method: "DVP"
            delivery-instruction: "DELIVER"
            settlement-currency: "LOCAL"
          instrument-specifics:
            settlement-cycle: "T+1"
            interest-processing: "automatic"
            maturity-processing: "reinvest"
    instruction-settings:
      validation-required: false
      instrument-compliance: "standard"
      audit-trail: "basic"
    
  default:
    instruction-type: "default"
    instruction-name: "Default Standing Instructions"
    description: "Default standing instructions"
    standing-instruction:
      instruction-id: "SI_DEFAULT"
      instruction-name: "Default SI"
      default-settlement:
        settlement-method: "DVP"
        delivery-instruction: "DELIVER"
    instruction-settings:
      validation-required: false

# Standing instruction patterns
instruction-patterns:
  client-priority-pattern:
    pattern-name: "Client Priority Pattern"
    description: "Pattern for client-based priority assignment"
    priority-rules:
      - "PREMIUM clients get highest priority"
      - "INSTITUTIONAL clients get high priority"
      - "STANDARD clients get standard priority"
    
  market-compliance-pattern:
    pattern-name: "Market Compliance Pattern"
    description: "Pattern for market-specific compliance"
    compliance-rules:
      - "Local custodian required for each market"
      - "Local currency settlement preferred"
      - "Market-specific settlement cycles"
    
  instrument-processing-pattern:
    pattern-name: "Instrument Processing Pattern"
    description: "Pattern for instrument-specific processing"
    processing-rules:
      - "Equity instruments use T+2 settlement"
      - "Fixed income instruments use T+1 settlement"
      - "DVP settlement method preferred"

# Quality assurance
quality-assurance:
  instruction-accuracy:
    - "Standing instructions must be accurate"
    - "Client mappings must be correct"
    - "Market specifications must be current"
    - "Instrument rules must be appropriate"
    
  compliance-requirements:
    - "Regulatory compliance must be maintained"
    - "Market conventions must be respected"
    - "Settlement cycles must be accurate"
    - "Currency specifications must be correct"
    
  operational-efficiency:
    - "Instructions must be operationally efficient"
    - "Priority assignments must be appropriate"
    - "Override capabilities must be controlled"
    - "Audit trails must be comprehensive"

