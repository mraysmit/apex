# Custody Auto-Repair Demo Data Configuration
# Test data scenarios for CustodyAutoRepairDemo.java
# NO HARDCODED SIMULATION - Real APEX data processing

type: "apex-enrichment-config"
name: "Custody Auto-Repair Demo Data"
  version: "2.0"
  description: "Test data scenarios for real APEX custody auto-repair demonstration"
  author: "APEX Demo Team"
  created: "2025-01-29"

# Settlement Instruction Auto-Repair Test Scenarios
settlement-instruction-scenarios:
  - scenario: "incomplete-japan-equity-instruction"
    description: "Incomplete settlement instruction for Japan equity requiring auto-repair"
    data:
      instructionId: "SI001"
      clientId: "CLIENT_A"
      market: "JAPAN"
      instrumentType: "EQUITY"
      settlementAmount: 1000000.0
      settlementCurrency: "JPY"
      settlementDate: "2025-07-30"
      # Missing fields that need auto-repair:
      counterpartyId: null
      custodianId: null
      settlementMethod: null
      deliveryInstruction: null
    expected-results:
      counterpartyId: "CP_CLIENT_A_DEFAULT"
      custodianId: "CUST_CLIENT_A"
      settlementMethod: "DVP"
      deliveryInstruction: "DELIVER"
      repairStatus: "AUTO_REPAIRED"
      confidenceScore: 0.6

  - scenario: "incomplete-hong-kong-fixed-income-instruction"
    description: "Incomplete settlement instruction for Hong Kong fixed income"
    data:
      instructionId: "SI002"
      clientId: "UNKNOWN_CLIENT"
      market: "HONG_KONG"
      instrumentType: "FIXED_INCOME"
      settlementAmount: 500000.0
      settlementCurrency: "HKD"
      settlementDate: "2025-08-01"
      counterpartyId: null
      custodianId: null
      settlementMethod: null
      deliveryInstruction: null
    expected-results:
      counterpartyId: "CP_HK_STANDARD"
      custodianId: "CUST_HK_STANDARD"
      settlementMethod: "DVP"
      deliveryInstruction: "DELIVER"
      repairStatus: "AUTO_REPAIRED"
      confidenceScore: 0.3

  - scenario: "complex-derivatives-instruction"
    description: "Complex derivatives instruction requiring special handling"
    data:
      instructionId: "SI003"
      clientId: "PREMIUM_CLIENT_X"
      market: "SINGAPORE"
      instrumentType: "DERIVATIVES"
      settlementAmount: 10000000.0
      settlementCurrency: "SGD"
      settlementDate: "2025-08-02"
      counterpartyId: null
      custodianId: null
      settlementMethod: null
      deliveryInstruction: null
    expected-results:
      counterpartyId: "CP_PREMIUM_X_DEFAULT"
      custodianId: "CUST_PREMIUM_GLOBAL"
      settlementMethod: "DVP_PREMIUM"
      deliveryInstruction: "CASH_SETTLE"
      repairStatus: "AUTO_REPAIRED"
      confidenceScore: 0.6

# Standing Instruction Processing Test Scenarios
standing-instruction-scenarios:
  - scenario: "client-specific-si-processing"
    description: "Client-specific standing instruction processing with highest priority"
    data:
      siId: "SI_CLIENT_A"
      clientId: "CLIENT_A"
      market: "JAPAN"
      instrumentType: "EQUITY"
      priority: "HIGH"
      weight: 0.6
    expected-results:
      processingLevel: "CLIENT"
      priorityWeight: 0.6
      defaultCounterpartyId: "CP_CLIENT_A_DEFAULT"
      defaultCustodianId: "CUST_CLIENT_A"
      defaultSettlementMethod: "DVP"
      defaultDeliveryInstruction: "DELIVER"

  - scenario: "market-specific-si-processing"
    description: "Market-specific standing instruction processing with medium priority"
    data:
      siId: "SI_JAPAN"
      market: "JAPAN"
      instrumentType: "EQUITY"
      priority: "MEDIUM"
      weight: 0.3
    expected-results:
      processingLevel: "MARKET"
      priorityWeight: 0.3
      defaultCounterpartyId: "CP_JAPAN_STANDARD"
      defaultCustodianId: "CUST_JAPAN_DEFAULT"
      defaultSettlementMethod: "DVP"
      defaultDeliveryInstruction: "DELIVER"

  - scenario: "instrument-specific-si-processing"
    description: "Instrument-specific standing instruction processing with lowest priority"
    data:
      siId: "SI_EQUITY"
      instrumentType: "EQUITY"
      priority: "LOW"
      weight: 0.1
    expected-results:
      processingLevel: "INSTRUMENT"
      priorityWeight: 0.1
      defaultSettlementMethod: "DVP"
      defaultDeliveryInstruction: "DELIVER"

# Weighted Rule-Based Decision Making Test Scenarios
weighted-decision-scenarios:
  - scenario: "high-confidence-auto-repair"
    description: "High confidence auto-repair decision with client match"
    data:
      decisionType: "AUTO_REPAIR"
      clientWeight: 0.6
      marketWeight: 0.3
      instrumentWeight: 0.1
      clientMatch: 1.0
      marketMatch: 1.0
      instrumentMatch: 1.0
      confidenceThreshold: 0.8
      riskLevel: "LOW"
    expected-results:
      confidenceScore: 1.0
      autoRepairDecision: "APPROVED"
      requiresApproval: false

  - scenario: "medium-confidence-manual-review"
    description: "Medium confidence requiring manual review"
    data:
      decisionType: "AUTO_REPAIR"
      clientWeight: 0.6
      marketWeight: 0.3
      instrumentWeight: 0.1
      clientMatch: 0.0
      marketMatch: 1.0
      instrumentMatch: 1.0
      confidenceThreshold: 0.8
      riskLevel: "MEDIUM"
    expected-results:
      confidenceScore: 0.4
      autoRepairDecision: "MANUAL_REVIEW_REQUIRED"
      requiresApproval: false

  - scenario: "high-risk-approval-required"
    description: "High risk scenario requiring approval"
    data:
      decisionType: "AUTO_REPAIR"
      clientWeight: 0.6
      marketWeight: 0.3
      instrumentWeight: 0.1
      clientMatch: 1.0
      marketMatch: 1.0
      instrumentMatch: 1.0
      confidenceThreshold: 0.8
      riskLevel: "HIGH"
    expected-results:
      confidenceScore: 1.0
      autoRepairDecision: "APPROVED"
      requiresApproval: true

# Integrated Workflow Test Scenarios
integrated-scenarios:
  - scenario: "complete-auto-repair-workflow"
    description: "Complete auto-repair workflow from instruction to decision"
    data:
      # Settlement instruction data
      instructionId: "SI_WORKFLOW_001"
      clientId: "CLIENT_A"
      market: "JAPAN"
      instrumentType: "EQUITY"
      settlementAmount: 2000000.0
      settlementCurrency: "JPY"
      settlementDate: "2025-08-05"
      # Standing instruction data
      siId: "SI_CLIENT_A"
      priority: "HIGH"
      weight: 0.6
      # Decision making data
      decisionType: "AUTO_REPAIR"
      clientWeight: 0.6
      marketWeight: 0.3
      instrumentWeight: 0.1
      confidenceThreshold: 0.8
      riskLevel: "LOW"
    expected-workflow:
      step1: "settlement-instruction-auto-repair"
      step2: "standing-instruction-processing"
      step3: "weighted-rule-decision-making"
      final-status: "AUTO_REPAIRED"

# Performance Test Data
performance-scenarios:
  - scenario: "bulk-auto-repair-processing"
    description: "Bulk auto-repair processing for performance testing"
    data:
      instructions:
        - instructionId: "BULK_001"
          clientId: "CLIENT_A"
          market: "JAPAN"
          instrumentType: "EQUITY"
        - instructionId: "BULK_002"
          clientId: "CLIENT_B"
          market: "HONG_KONG"
          instrumentType: "FIXED_INCOME"
        - instructionId: "BULK_003"
          clientId: "CLIENT_C"
          market: "SINGAPORE"
          instrumentType: "DERIVATIVES"
        - instructionId: "BULK_004"
          clientId: "CLIENT_D"
          market: "KOREA"
          instrumentType: "EQUITY"
        - instructionId: "BULK_005"
          clientId: "CLIENT_E"
          market: "JAPAN"
          instrumentType: "FIXED_INCOME"
    expected-performance:
      processing-time: "< 200ms"
      auto-repair-count: 5
      success-rate: "100%"

# Reference Data for Validation
reference-data:
  clients:
    - "CLIENT_A"
    - "CLIENT_B"
    - "CLIENT_C"
    - "PREMIUM_CLIENT_X"
    - "VIP_CLIENT_Y"
  
  markets:
    - "JAPAN"
    - "HONG_KONG"
    - "SINGAPORE"
    - "KOREA"
    - "TAIWAN"
  
  instrument-types:
    - "EQUITY"
    - "FIXED_INCOME"
    - "DERIVATIVES"
    - "COMMODITY"
    - "CURRENCY"
  
  settlement-methods:
    - "DVP"
    - "DVP_PREMIUM"
    - "CASH_SETTLE"
    - "FREE_DELIVERY"
  
  delivery-instructions:
    - "DELIVER"
    - "RECEIVE"
    - "CASH_SETTLE"
    - "HOLD"
  
  priority-levels:
    - "HIGH"
    - "MEDIUM"
    - "LOW"
  
  risk-levels:
    - "LOW"
    - "MEDIUM"
    - "HIGH"
    - "CRITICAL"

