# APEX Advanced Features Test Data Configuration
# External data source configuration for advanced features testing
# Replaces hardcoded test data from ApexAdvancedFeaturesDemo

metadata:
  id: "advanced-features-test-data"
  name: "Advanced Features Test Data"
  version: "1.0.0"
  description: "Comprehensive test data for advanced features demonstration"
  type: "external-data-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  tags: ["apex-demo", "evaluation", "advanced-features", "test-data"]

# Sample data for advanced features testing
data:
  sample-products:
    - product-id: "PROD001"
      name: "Government Bond 10Y"
      price: 1000.0
      category: "FixedIncome"
      risk-level: "Low"
      liquidity: "High"
      maturity: "10 years"
      
    - product-id: "PROD002"
      name: "Corporate Bond AAA"
      price: 950.0
      category: "FixedIncome"
      risk-level: "Low"
      liquidity: "Medium"
      maturity: "5 years"
      
    - product-id: "PROD003"
      name: "Tech Stock ETF"
      price: 750.0
      category: "Equity"
      risk-level: "Medium"
      liquidity: "High"
      sector: "Technology"
      
    - product-id: "PROD004"
      name: "Blue Chip Index"
      price: 1200.0
      category: "Equity"
      risk-level: "Medium"
      liquidity: "High"
      sector: "Diversified"
      
    - product-id: "PROD005"
      name: "Emerging Markets"
      price: 450.0
      category: "Equity"
      risk-level: "High"
      liquidity: "Medium"
      sector: "International"
      
    - product-id: "PROD006"
      name: "Real Estate REIT"
      price: 300.0
      category: "RealEstate"
      risk-level: "Medium"
      liquidity: "Low"
      sector: "Real Estate"

  sample-customers:
    - customer-id: "CUST001"
      name: "John Doe"
      age: 35
      membership-level: "Gold"
      preferred-categories: ["Equity", "FixedIncome"]
      risk-tolerance: "Medium"
      total-investment: 150000
      
    - customer-id: "CUST002"
      name: "Jane Smith"
      age: 42
      membership-level: "Platinum"
      preferred-categories: ["RealEstate", "Equity"]
      risk-tolerance: "Medium"
      total-investment: 500000
      
    - customer-id: "CUST003"
      name: "Bob Johnson"
      age: 28
      membership-level: "Silver"
      preferred-categories: ["Equity"]
      risk-tolerance: "High"
      total-investment: 75000
      
    - customer-id: "CUST004"
      name: "Alice Brown"
      age: 55
      membership-level: "Gold"
      preferred-categories: ["FixedIncome", "RealEstate"]
      risk-tolerance: "Low"
      total-investment: 300000
      
    - customer-id: "CUST005"
      name: "Charlie Wilson"
      age: 65
      membership-level: "Bronze"
      preferred-categories: ["FixedIncome"]
      risk-tolerance: "Low"
      total-investment: 50000

  sample-inventory:
    - product-id: "PROD001"
      quantity: 100
      last-updated: "2025-08-30"
      reorder-level: 20
      
    - product-id: "PROD002"
      quantity: 75
      last-updated: "2025-08-30"
      reorder-level: 15
      
    - product-id: "PROD003"
      quantity: 200
      last-updated: "2025-08-30"
      reorder-level: 50
      
    - product-id: "PROD004"
      quantity: 150
      last-updated: "2025-08-30"
      reorder-level: 30
      
    - product-id: "PROD005"
      quantity: 5
      last-updated: "2025-08-30"
      reorder-level: 10
      
    - product-id: "PROD006"
      quantity: 25
      last-updated: "2025-08-30"
      reorder-level: 10

# Test scenarios for different processing types
test-scenarios:
  collection-operations-scenarios:
    - scenario-id: "COLL_TEST_001"
      description: "Filter high-value products"
      processing-type: "collection-operations"
      operation-type: "list-filtering"
      filter-criteria: "price > 500"
      expected-results: ["PROD001", "PROD002", "PROD003", "PROD004"]
      
    - scenario-id: "COLL_TEST_002"
      description: "Filter equity products"
      processing-type: "collection-operations"
      operation-type: "list-filtering"
      filter-criteria: "category == 'Equity'"
      expected-results: ["PROD003", "PROD004", "PROD005"]
      
    - scenario-id: "COLL_TEST_003"
      description: "Filter premium customers"
      processing-type: "collection-operations"
      operation-type: "list-filtering"
      filter-criteria: "membershipLevel in ['Gold', 'Platinum']"
      expected-results: ["CUST001", "CUST002", "CUST004"]
      
  rule-engine-scenarios:
    - scenario-id: "RULE_TEST_001"
      description: "Investment rules processing"
      processing-type: "rule-engine"
      rule-type: "investment-rules"
      input-data:
        products: ["PROD003", "PROD004"]
        customer: "CUST001"
      expected-actions: ["include-in-portfolio", "risk-evaluation-required"]
      
    - scenario-id: "RULE_TEST_002"
      description: "Conditional rules processing"
      processing-type: "rule-engine"
      rule-type: "conditional-rules"
      input-data:
        customer: "CUST002"
      expected-actions: ["premium-processing", "apply-platinum-benefits"]
      
  template-processing-scenarios:
    - scenario-id: "TMPL_TEST_001"
      description: "XML template processing"
      processing-type: "template-processing"
      template-type: "xml-template"
      variables:
        customer-name: "John Doe"
        account-balance: 150000
      expected-output-format: "XML"
      
    - scenario-id: "TMPL_TEST_002"
      description: "JSON template processing"
      processing-type: "template-processing"
      template-type: "json-template"
      variables:
        portfolio-value: 500000
        risk-score: 0.65
      expected-output-format: "JSON"
      
  dynamic-lookup-scenarios:
    - scenario-id: "LOOKUP_TEST_001"
      description: "Instrument types lookup"
      processing-type: "dynamic-lookup"
      lookup-type: "instrument-types-lookup"
      lookup-key: "Equity"
      expected-result: "Equity Securities"
      
    - scenario-id: "LOOKUP_TEST_002"
      description: "Risk levels lookup"
      processing-type: "dynamic-lookup"
      lookup-type: "risk-levels-lookup"
      lookup-key: "Medium"
      expected-result: "Moderate Risk Profile"
      
  rule-result-features-scenarios:
    - scenario-id: "RESULT_TEST_001"
      description: "Result analysis processing"
      processing-type: "rule-result-features"
      feature-type: "result-analysis"
      rule-results:
        - rule-name: "high-value-equity-filter"
          result: "include-in-portfolio"
          execution-time: 25
        - rule-name: "risk-assessment"
          result: "risk-evaluation-required"
          execution-time: 45
      expected-analysis: "pattern-detected"

# Performance test scenarios
performance-scenarios:
  - scenario-id: "PERF_TEST_001"
    description: "High-volume collection operations"
    processing-type: "performance-testing"
    scenario-type: "load-testing"
    operation-count: 10000
    expected-throughput: "1000 operations/second"
    expected-response-time: "< 100ms per operation"
    
  - scenario-id: "PERF_TEST_002"
    description: "Complex rule engine processing"
    processing-type: "performance-testing"
    scenario-type: "stress-testing"
    rule-count: 1000
    expected-throughput: "500 rules/second"
    expected-response-time: "< 200ms per rule"

# Error handling test scenarios
error-scenarios:
  - scenario-id: "ERROR_TEST_001"
    description: "Missing template variables"
    processing-type: "error-handling"
    template-type: "xml-template"
    missing-variables: ["customer-name"]
    expected-error: "missing-template-variables"
    expected-handling: "fail-fast-with-clear-message"
    
  - scenario-id: "ERROR_TEST_002"
    description: "Invalid lookup key"
    processing-type: "error-handling"
    lookup-type: "instrument-types-lookup"
    lookup-key: "InvalidInstrument"
    expected-error: "lookup-key-not-found"
    expected-handling: "return-default-value-or-null"
