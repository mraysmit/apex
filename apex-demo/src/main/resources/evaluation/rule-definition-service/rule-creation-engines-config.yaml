# APEX Rule Creation Engines Configuration
# External data source configuration for rule creation engines
# Replaces hardcoded rule creation logic from RuleDefinitionServiceDemo

type: "external-data-config"
name: "rule-creation-engines-config"
description: "Data-driven rule creation engines configuration for rule definition service"

# Rule creation engines configuration by engine type
data:
  financial-rule-creation-engines:
    engine-type: "financial-rule-creation-engines"
    engine-name: "Financial Rule Creation Engines"
    description: "Engines for financial rule creation and development"
    engine-characteristics:
      creation-category: "FINANCIAL"
      complexity-level: "HIGH"
      business-criticality: "CRITICAL"
    creation-engines:
      investment-recommendation-engine:
        engine-id: "INVESTMENT_RECOMMENDATION_ENGINE"
        engine-name: "Investment Recommendation Rule Creation Engine"
        engine-description: "Engine for creating investment recommendation rules"
        rule-templates:
          - template-name: "conservative-investment-template"
            template-description: "Template for conservative investment recommendations"
            template-condition: "#customer.riskTolerance == 'Conservative' && #customer.age > 50"
            template-action: "RECOMMEND_BONDS"
            template-priority: 1
          - template-name: "aggressive-investment-template"
            template-description: "Template for aggressive investment recommendations"
            template-condition: "#customer.riskTolerance == 'Aggressive' && #customer.age < 40"
            template-action: "RECOMMEND_STOCKS"
            template-priority: 2
          - template-name: "balanced-investment-template"
            template-description: "Template for balanced investment recommendations"
            template-condition: "#customer.riskTolerance == 'Moderate'"
            template-action: "RECOMMEND_MIXED_PORTFOLIO"
            template-priority: 3
        creation-rules:
          - rule-name: "investment-recommendation-rule-creation"
            rule-condition: "#ruleType == 'INVESTMENT_RECOMMENDATION'"
            rule-calculation: "#ruleBuilder.createInvestmentRule(#customer, #portfolio, #marketConditions)"
            rule-description: "Create investment recommendation rule based on customer profile"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "risk-assessment-rule-creation"
            rule-condition: "#ruleType == 'RISK_ASSESSMENT'"
            rule-calculation: "#ruleBuilder.createRiskRule(#investment, #riskFactors, #tolerance)"
            rule-description: "Create risk assessment rule for investment evaluation"
            rule-priority: 2
            rule-action: "CREATE"
          - rule-name: "portfolio-rebalancing-rule-creation"
            rule-condition: "#ruleType == 'PORTFOLIO_REBALANCING'"
            rule-calculation: "#ruleBuilder.createRebalancingRule(#portfolio, #targetAllocation, #thresholds)"
            rule-description: "Create portfolio rebalancing rule based on target allocation"
            rule-priority: 3
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "FINANCIAL_RULE_CREATED"
          failure-outcome: "FINANCIAL_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log financial rule creation activities"
          - "Track rule template usage"
          
      transaction-validation-engine:
        engine-id: "TRANSACTION_VALIDATION_ENGINE"
        engine-name: "Transaction Validation Rule Creation Engine"
        engine-description: "Engine for creating transaction validation rules"
        rule-templates:
          - template-name: "high-value-transaction-template"
            template-description: "Template for high-value transaction validation"
            template-condition: "#transaction.amount > 10000"
            template-action: "REQUIRE_ADDITIONAL_APPROVAL"
            template-priority: 1
          - template-name: "suspicious-pattern-template"
            template-description: "Template for suspicious transaction pattern detection"
            template-condition: "#transaction.frequency > 10 && #transaction.timeWindow < 3600"
            template-action: "FLAG_FOR_REVIEW"
            template-priority: 2
          - template-name: "cross-border-template"
            template-description: "Template for cross-border transaction validation"
            template-condition: "#transaction.sourceCountry != #transaction.destinationCountry"
            template-action: "APPLY_COMPLIANCE_CHECKS"
            template-priority: 3
        creation-rules:
          - rule-name: "transaction-validation-rule-creation"
            rule-condition: "#ruleType == 'TRANSACTION_VALIDATION'"
            rule-calculation: "#ruleBuilder.createTransactionRule(#transaction, #validationCriteria, #complianceRequirements)"
            rule-description: "Create transaction validation rule based on criteria"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "fraud-detection-rule-creation"
            rule-condition: "#ruleType == 'FRAUD_DETECTION'"
            rule-calculation: "#ruleBuilder.createFraudRule(#transaction, #fraudPatterns, #riskScores)"
            rule-description: "Create fraud detection rule based on patterns"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "TRANSACTION_RULE_CREATED"
          failure-outcome: "TRANSACTION_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log transaction rule creation activities"
          - "Track fraud pattern effectiveness"
          
      compliance-monitoring-engine:
        engine-id: "COMPLIANCE_MONITORING_ENGINE"
        engine-name: "Compliance Monitoring Rule Creation Engine"
        engine-description: "Engine for creating compliance monitoring rules"
        rule-templates:
          - template-name: "regulatory-reporting-template"
            template-description: "Template for regulatory reporting compliance"
            template-condition: "#transaction.type == 'LARGE_CASH' && #transaction.amount > 10000"
            template-action: "GENERATE_CTR_REPORT"
            template-priority: 1
          - template-name: "kyc-compliance-template"
            template-description: "Template for KYC compliance monitoring"
            template-condition: "#customer.kycStatus == 'EXPIRED' || #customer.lastKycUpdate < #currentDate.minusYears(1)"
            template-action: "INITIATE_KYC_REFRESH"
            template-priority: 2
          - template-name: "aml-screening-template"
            template-description: "Template for AML screening compliance"
            template-condition: "#customer.riskRating == 'HIGH' || #transaction.amount > 50000"
            template-action: "PERFORM_AML_SCREENING"
            template-priority: 3
        creation-rules:
          - rule-name: "compliance-monitoring-rule-creation"
            rule-condition: "#ruleType == 'COMPLIANCE_MONITORING'"
            rule-calculation: "#ruleBuilder.createComplianceRule(#regulation, #monitoringCriteria, #reportingRequirements)"
            rule-description: "Create compliance monitoring rule based on regulations"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "regulatory-reporting-rule-creation"
            rule-condition: "#ruleType == 'REGULATORY_REPORTING'"
            rule-calculation: "#ruleBuilder.createReportingRule(#reportType, #triggers, #deadlines)"
            rule-description: "Create regulatory reporting rule based on requirements"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "COMPLIANCE_RULE_CREATED"
          failure-outcome: "COMPLIANCE_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log compliance rule creation activities"
          - "Track regulatory requirement coverage"
    engine-settings:
      financial-rule-creation: true
      template-based-creation: true
      compliance-validation: true
    
  customer-rule-creation-engines:
    engine-type: "customer-rule-creation-engines"
    engine-name: "Customer Rule Creation Engines"
    description: "Engines for customer rule creation and development"
    engine-characteristics:
      creation-category: "CUSTOMER"
      complexity-level: "MODERATE"
      business-criticality: "HIGH"
    creation-engines:
      customer-eligibility-engine:
        engine-id: "CUSTOMER_ELIGIBILITY_ENGINE"
        engine-name: "Customer Eligibility Rule Creation Engine"
        engine-description: "Engine for creating customer eligibility rules"
        rule-templates:
          - template-name: "age-eligibility-template"
            template-description: "Template for age-based eligibility"
            template-condition: "#customer.age >= 18 && #customer.age <= 65"
            template-action: "APPROVE_ELIGIBILITY"
            template-priority: 1
          - template-name: "income-eligibility-template"
            template-description: "Template for income-based eligibility"
            template-condition: "#customer.annualIncome >= 25000"
            template-action: "APPROVE_INCOME_ELIGIBILITY"
            template-priority: 2
          - template-name: "credit-score-eligibility-template"
            template-description: "Template for credit score-based eligibility"
            template-condition: "#customer.creditScore >= 650"
            template-action: "APPROVE_CREDIT_ELIGIBILITY"
            template-priority: 3
        creation-rules:
          - rule-name: "customer-eligibility-rule-creation"
            rule-condition: "#ruleType == 'CUSTOMER_ELIGIBILITY'"
            rule-calculation: "#ruleBuilder.createEligibilityRule(#customer, #eligibilityCriteria, #productRequirements)"
            rule-description: "Create customer eligibility rule based on criteria"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "customer-segmentation-rule-creation"
            rule-condition: "#ruleType == 'CUSTOMER_SEGMENTATION'"
            rule-calculation: "#ruleBuilder.createSegmentationRule(#customer, #segmentCriteria, #behaviorPatterns)"
            rule-description: "Create customer segmentation rule based on behavior"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "CUSTOMER_RULE_CREATED"
          failure-outcome: "CUSTOMER_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log customer rule creation activities"
          - "Track eligibility criteria effectiveness"
          
      customer-service-engine:
        engine-id: "CUSTOMER_SERVICE_ENGINE"
        engine-name: "Customer Service Rule Creation Engine"
        engine-description: "Engine for creating customer service rules"
        rule-templates:
          - template-name: "priority-service-template"
            template-description: "Template for priority customer service"
            template-condition: "#customer.tier == 'PLATINUM' || #customer.accountValue > 1000000"
            template-action: "ASSIGN_PRIORITY_AGENT"
            template-priority: 1
          - template-name: "escalation-template"
            template-description: "Template for service escalation"
            template-condition: "#issue.severity == 'HIGH' || #issue.duration > 24"
            template-action: "ESCALATE_TO_SUPERVISOR"
            template-priority: 2
          - template-name: "satisfaction-follow-up-template"
            template-description: "Template for satisfaction follow-up"
            template-condition: "#interaction.type == 'COMPLAINT' && #interaction.resolved == true"
            template-action: "SCHEDULE_SATISFACTION_SURVEY"
            template-priority: 3
        creation-rules:
          - rule-name: "customer-service-rule-creation"
            rule-condition: "#ruleType == 'CUSTOMER_SERVICE'"
            rule-calculation: "#ruleBuilder.createServiceRule(#customer, #serviceLevel, #escalationCriteria)"
            rule-description: "Create customer service rule based on service level"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "customer-communication-rule-creation"
            rule-condition: "#ruleType == 'CUSTOMER_COMMUNICATION'"
            rule-calculation: "#ruleBuilder.createCommunicationRule(#customer, #preferences, #channels)"
            rule-description: "Create customer communication rule based on preferences"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "SERVICE_RULE_CREATED"
          failure-outcome: "SERVICE_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log service rule creation activities"
          - "Track service level compliance"
    engine-settings:
      customer-rule-creation: true
      service-optimization: true
      segmentation-support: true
    
  product-rule-creation-engines:
    engine-type: "product-rule-creation-engines"
    engine-name: "Product Rule Creation Engines"
    description: "Engines for product rule creation and development"
    engine-characteristics:
      creation-category: "PRODUCT"
      complexity-level: "MODERATE"
      business-criticality: "HIGH"
    creation-engines:
      product-availability-engine:
        engine-id: "PRODUCT_AVAILABILITY_ENGINE"
        engine-name: "Product Availability Rule Creation Engine"
        engine-description: "Engine for creating product availability rules"
        rule-templates:
          - template-name: "inventory-availability-template"
            template-description: "Template for inventory-based availability"
            template-condition: "#product.inventory > 0 && #product.status == 'ACTIVE'"
            template-action: "MARK_AVAILABLE"
            template-priority: 1
          - template-name: "seasonal-availability-template"
            template-description: "Template for seasonal product availability"
            template-condition: "#product.seasonal == true && #currentDate.between(#product.seasonStart, #product.seasonEnd)"
            template-action: "MARK_SEASONALLY_AVAILABLE"
            template-priority: 2
          - template-name: "geographic-availability-template"
            template-description: "Template for geographic availability"
            template-condition: "#product.availableRegions.contains(#customer.region)"
            template-action: "MARK_REGIONALLY_AVAILABLE"
            template-priority: 3
        creation-rules:
          - rule-name: "product-availability-rule-creation"
            rule-condition: "#ruleType == 'PRODUCT_AVAILABILITY'"
            rule-calculation: "#ruleBuilder.createAvailabilityRule(#product, #availabilityCriteria, #constraints)"
            rule-description: "Create product availability rule based on criteria"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "product-recommendation-rule-creation"
            rule-condition: "#ruleType == 'PRODUCT_RECOMMENDATION'"
            rule-calculation: "#ruleBuilder.createRecommendationRule(#product, #customerProfile, #purchaseHistory)"
            rule-description: "Create product recommendation rule based on customer profile"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "PRODUCT_RULE_CREATED"
          failure-outcome: "PRODUCT_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log product rule creation activities"
          - "Track availability accuracy"
          
      product-pricing-engine:
        engine-id: "PRODUCT_PRICING_ENGINE"
        engine-name: "Product Pricing Rule Creation Engine"
        engine-description: "Engine for creating product pricing rules"
        rule-templates:
          - template-name: "dynamic-pricing-template"
            template-description: "Template for dynamic pricing"
            template-condition: "#product.demand > 0.8 && #product.inventory < 100"
            template-action: "INCREASE_PRICE_BY_PERCENTAGE"
            template-priority: 1
          - template-name: "volume-discount-template"
            template-description: "Template for volume-based discounts"
            template-condition: "#order.quantity >= #product.volumeThreshold"
            template-action: "APPLY_VOLUME_DISCOUNT"
            template-priority: 2
          - template-name: "loyalty-pricing-template"
            template-description: "Template for loyalty-based pricing"
            template-condition: "#customer.loyaltyTier == 'GOLD' || #customer.loyaltyTier == 'PLATINUM'"
            template-action: "APPLY_LOYALTY_DISCOUNT"
            template-priority: 3
        creation-rules:
          - rule-name: "product-pricing-rule-creation"
            rule-condition: "#ruleType == 'PRODUCT_PRICING'"
            rule-calculation: "#ruleBuilder.createPricingRule(#product, #pricingStrategy, #marketConditions)"
            rule-description: "Create product pricing rule based on strategy"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "discount-rule-creation"
            rule-condition: "#ruleType == 'DISCOUNT_RULE'"
            rule-calculation: "#ruleBuilder.createDiscountRule(#product, #discountCriteria, #customerSegment)"
            rule-description: "Create discount rule based on customer segment"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "PRICING_RULE_CREATED"
          failure-outcome: "PRICING_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log pricing rule creation activities"
          - "Track pricing strategy effectiveness"
    engine-settings:
      product-rule-creation: true
      pricing-optimization: true
      availability-tracking: true
    
  compliance-rule-creation-engines:
    engine-type: "compliance-rule-creation-engines"
    engine-name: "Compliance Rule Creation Engines"
    description: "Engines for compliance rule creation and development"
    engine-characteristics:
      creation-category: "COMPLIANCE"
      complexity-level: "HIGH"
      business-criticality: "CRITICAL"
    creation-engines:
      regulatory-compliance-engine:
        engine-id: "REGULATORY_COMPLIANCE_ENGINE"
        engine-name: "Regulatory Compliance Rule Creation Engine"
        engine-description: "Engine for creating regulatory compliance rules"
        rule-templates:
          - template-name: "gdpr-compliance-template"
            template-description: "Template for GDPR compliance"
            template-condition: "#customer.region == 'EU' && #dataProcessing.personalData == true"
            template-action: "APPLY_GDPR_CONTROLS"
            template-priority: 1
          - template-name: "sox-compliance-template"
            template-description: "Template for SOX compliance"
            template-condition: "#transaction.type == 'FINANCIAL_REPORTING' && #company.publiclyTraded == true"
            template-action: "APPLY_SOX_CONTROLS"
            template-priority: 2
          - template-name: "pci-compliance-template"
            template-description: "Template for PCI DSS compliance"
            template-condition: "#transaction.paymentMethod == 'CREDIT_CARD'"
            template-action: "APPLY_PCI_CONTROLS"
            template-priority: 3
        creation-rules:
          - rule-name: "regulatory-compliance-rule-creation"
            rule-condition: "#ruleType == 'REGULATORY_COMPLIANCE'"
            rule-calculation: "#ruleBuilder.createComplianceRule(#regulation, #applicabilityScope, #controlRequirements)"
            rule-description: "Create regulatory compliance rule based on regulation"
            rule-priority: 1
            rule-action: "CREATE"
          - rule-name: "audit-trail-rule-creation"
            rule-condition: "#ruleType == 'AUDIT_TRAIL'"
            rule-calculation: "#ruleBuilder.createAuditRule(#activity, #auditRequirements, #retentionPeriod)"
            rule-description: "Create audit trail rule based on requirements"
            rule-priority: 2
            rule-action: "CREATE"
        engine-outcomes:
          success-outcome: "COMPLIANCE_RULE_CREATED"
          failure-outcome: "COMPLIANCE_RULE_CREATION_FAILED"
        audit-requirements:
          - "Log compliance rule creation activities"
          - "Track regulatory coverage"
    engine-settings:
      compliance-rule-creation: true
      regulatory-monitoring: true
      audit-trail-support: true
    
  default:
    engine-type: "default"
    engine-name: "Default Rule Creation Engines"
    description: "Default rule creation engine processing"
    creation-engines:
      default-engine:
        engine-id: "DEFAULT_ENGINE"
        engine-name: "Default Engine"
        creation-rules:
          - rule-name: "default-rule-creation"
            rule-calculation: "#ruleBuilder.createDefaultRule(#ruleType, #basicCriteria)"
            rule-description: "Default rule creation"
    engine-settings:
      default-processing: true

# Engine execution patterns
execution-patterns:
  creation-category-pattern:
    pattern-name: "Creation Category Pattern"
    description: "Execute engines based on creation categories"
    creation-categories: ["FINANCIAL", "CUSTOMER", "PRODUCT", "COMPLIANCE"]
    
  complexity-level-pattern:
    pattern-name: "Complexity Level Pattern"
    description: "Execute engines based on complexity levels"
    complexity-levels: ["HIGH", "MODERATE", "LOW"]
    
  business-criticality-pattern:
    pattern-name: "Business Criticality Pattern"
    description: "Execute engines based on business criticality"
    criticality-levels: ["CRITICAL", "HIGH", "MODERATE", "LOW"]

# Quality assurance
quality-assurance:
  engine-accuracy:
    - "Rule creation engines must be accurate"
    - "Rule templates must be correct"
    - "Rule logic must be valid"
    - "Creation process must be reliable"
    
  engine-reliability:
    - "Engines must be consistent"
    - "Creation must be repeatable"
    - "Performance must be acceptable"
    - "Error handling must be robust"
    
  compliance-alignment:
    - "Rule creation must comply with standards"
    - "Templates must reflect best practices"
    - "Governance must be enforced"
    - "Audit trails must be maintained"
