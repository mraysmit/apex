# APEX Advanced Features Demo Configuration
# Real APEX YAML configuration for advanced features processing
# Replaces all hardcoded advanced features logic from ApexAdvancedFeaturesDemo (@version 1.0)

metadata:
  id: "APEX Advanced Features Demo"
  name: "APEX Advanced Features Demo"
  version: "2.0.0"
  description: "APEX-compliant advanced features with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "Rule Evaluation"
  tags: ["advanced-features", "demo", "enrichment", "evaluation"]

# External data source for advanced features configurations
external-data-sources:
  - name: "collection-operations-config"
    type: "external-data-config"
    source: "evaluation/advanced-features/collection-operations-config.yaml"
    
  - name: "rule-engine-config"
    type: "external-data-config"
    source: "evaluation/advanced-features/rule-engine-config.yaml"
    
  - name: "template-processing-config"
    type: "external-data-config"
    source: "evaluation/advanced-features/template-processing-config.yaml"
    
  - name: "dynamic-lookup-config"
    type: "external-data-config"
    source: "evaluation/advanced-features/dynamic-lookup-config.yaml"
    
  - name: "rule-result-features-config"
    type: "external-data-config"
    source: "evaluation/advanced-features/rule-result-features-config.yaml"
    
  - name: "advanced-features-test-data"
    type: "external-data-config"
    source: "evaluation/advanced-features/advanced-features-test-data.yaml"

# APEX enrichment processing for advanced features
enrichments:
  - id: "collection-operations-processing"
    name: "collection-operations-processing"
    type: "field-enrichment"
    description: "Process collection operations using data-driven configuration"
    enabled: true
    condition: "true"
    field-mappings:
      - source-field: "operationType"
        target-field: "collectionResult"
        default-value: "collection-operations-processed"

  - id: "rule-engine-processing"
    name: "rule-engine-processing"
    type: "field-enrichment"
    description: "Process rule engine operations using data-driven configuration"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "ruleType"
        target-field: "ruleEngineResult"
        default-value: "rule-engine-processed"

  - id: "template-processing"
    name: "template-processing"
    type: "field-enrichment"
    description: "Process template operations using data-driven configuration"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "templateType"
        target-field: "templateResult"
        default-value: "template-processing-processed"

  - id: "dynamic-lookup-processing"
    name: "dynamic-lookup-processing"
    type: "field-enrichment"
    description: "Process dynamic lookup operations using data-driven configuration"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "lookupType"
        target-field: "lookupResult"
        default-value: "dynamic-lookup-processed"

  - id: "rule-result-processing"
    name: "rule-result-processing"
    type: "field-enrichment"
    description: "Process rule result features using data-driven configuration"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "featureType"
        target-field: "ruleResultFeature"
        default-value: "rule-result-features-processed"

  - id: "dynamic-method-execution"
    name: "dynamic-method-execution"
    type: "field-enrichment"
    description: "Execute dynamic methods using real APEX expressions"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "methodName"
        target-field: "dynamicMethodResult"
        default-value: "dynamic-method-executed"

  - id: "advanced-features-summary"
    name: "advanced-features-summary"
    type: "field-enrichment"
    description: "Generate advanced features processing summary"
    enabled: true
    condition: "true"
    field-mappings:
      - source-field: "processingType"
        target-field: "advancedFeaturesSummary"
        default-value: "Advanced features processing completed using real APEX services"

# Advanced features processing categories
processing-categories:
  - category: "collection-operations"
    description: "Collection manipulation and array operations"
    processing-type: "real-apex-enrichment"
    features:
      - "List filtering and mapping"
      - "Array operations and transformations"
      - "Complex collection queries"
      - "Aggregation and grouping"
    
  - category: "rule-engine"
    description: "Advanced rule engine capabilities"
    processing-type: "real-apex-enrichment"
    features:
      - "Investment rule processing"
      - "Conditional rule execution"
      - "Rule chaining and dependencies"
      - "Dynamic rule selection"
    
  - category: "template-processing"
    description: "Template expressions and processing"
    processing-type: "real-apex-enrichment"
    features:
      - "XML template processing"
      - "JSON template processing"
      - "Dynamic template generation"
      - "Template variable substitution"
    
  - category: "dynamic-lookup"
    description: "Dynamic lookup service operations"
    processing-type: "real-apex-enrichment"
    features:
      - "Runtime lookup service creation"
      - "Dynamic data source integration"
      - "Lookup service chaining"
      - "Data source management"
    
  - category: "rule-result-features"
    description: "Advanced rule result processing"
    processing-type: "real-apex-enrichment"
    features:
      - "Rule result analysis"
      - "Result-based routing"
      - "Conditional follow-up processing"
      - "Result type handling"
    
  - category: "dynamic-method-execution"
    description: "Dynamic method execution capabilities"
    processing-type: "real-apex-expressions"
    features:
      - "Runtime method invocation"
      - "Dynamic parameter binding"
      - "Method result processing"
      - "Exception handling"

# Performance and optimization settings
performance-settings:
  collection-operations:
    batch-size: 1000
    parallel-processing: true
    memory-optimization: true
    
  rule-engine:
    rule-cache-size: 500
    evaluation-timeout: 5000
    concurrent-evaluations: 10
    
  template-processing:
    template-cache-size: 100
    processing-timeout: 3000
    variable-resolution-depth: 5
    
  dynamic-lookup:
    lookup-cache-size: 200
    lookup-timeout: 2000
    connection-pool-size: 20
    
  rule-result-features:
    result-cache-size: 300
    analysis-timeout: 1000
    feature-extraction-depth: 3

# Output configuration
output:
  include-input: true
  include-metadata: true
  format: "enhanced"
  advanced-features-summary: true
  performance-metrics: true
  processing-details: true

