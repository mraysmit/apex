# APEX Infrastructure Configuration
# External data source configuration for infrastructure setup
# Replaces hardcoded infrastructure setup from RuleConfigurationBootstrap

metadata:
  id: "Infrastructure Configuration"
  name: "Infrastructure Configuration"
  version: "1.0.0"
  description: "Infrastructure configuration for comprehensive bootstrap demonstration"
  type: "external-data-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  tags: ["apex-demo", "evaluation", "bootstrap-comprehensive", "infrastructure"]

# Infrastructure components
infrastructure-components:
  database-setup:
    component-id: "DB001"
    name: "PostgreSQL Database Setup"
    description: "Setup PostgreSQL database with comprehensive schema"
    configuration:
      host: "localhost"
      port: 5432
      database: "apex_comprehensive_demo"
      schema: "rule_config"
      tables:
        - "loan_applications"
        - "customer_profiles"
        - "order_processing"
        - "rule_configurations"
        - "processing_results"
    setup-time: "2-5 seconds"
    status: "real-apex-integration"
    
  data-source-verifier:
    component-id: "DSV001"
    name: "Data Source Verification Service"
    description: "Verify all data sources using real APEX validation"
    configuration:
      verification-types:
        - "database-connectivity"
        - "yaml-file-validation"
        - "schema-verification"
        - "data-integrity-check"
      timeout: 30
      retry-attempts: 3
    setup-time: "1-3 seconds"
    status: "real-apex-integration"
    
  yaml-configuration-loader:
    component-id: "YCL001"
    name: "YAML Configuration Loader"
    description: "Load YAML configurations using real APEX services"
    configuration:
      base-path: "evaluation/bootstrap-comprehensive"
      file-types: ["yaml", "yml"]
      validation: "strict"
      caching: true
    setup-time: "1-2 seconds"
    status: "real-apex-integration"
    
  enrichment-service:
    component-id: "ES001"
    name: "APEX Enrichment Service"
    description: "Real APEX enrichment service for rule processing"
    configuration:
      service-registry: "enabled"
      expression-evaluator: "enabled"
      lookup-services: "enabled"
      performance-monitoring: "enabled"
    setup-time: "2-4 seconds"
    status: "real-apex-integration"
    
  rule-engine:
    component-id: "RE001"
    name: "APEX Rule Engine"
    description: "Comprehensive rule engine with real APEX services"
    configuration:
      engine-type: "comprehensive"
      rule-categories: ["loan-approval", "order-discount", "combined-rules"]
      processing-modes: ["batch", "real-time", "streaming"]
      optimization: "enabled"
    setup-time: "3-5 seconds"
    status: "real-apex-integration"

# Setup phases
setup-phases:
  phase-1-infrastructure:
    phase-id: "P001"
    name: "Infrastructure Setup"
    description: "Setup core infrastructure components"
    components:
      - "database-setup"
      - "data-source-verifier"
    estimated-time: "5-8 seconds"
    dependencies: []
    
  phase-2-configuration:
    phase-id: "P002"
    name: "Configuration Loading"
    description: "Load YAML configurations and validate"
    components:
      - "yaml-configuration-loader"
    estimated-time: "2-3 seconds"
    dependencies: ["P001"]
    
  phase-3-services:
    phase-id: "P003"
    name: "Service Initialization"
    description: "Initialize APEX services"
    components:
      - "enrichment-service"
      - "rule-engine"
    estimated-time: "5-9 seconds"
    dependencies: ["P001", "P002"]
    
  phase-4-verification:
    phase-id: "P004"
    name: "System Verification"
    description: "Verify complete system integration"
    components:
      - "end-to-end-testing"
      - "performance-validation"
    estimated-time: "3-5 seconds"
    dependencies: ["P001", "P002", "P003"]

# Data sources
data-sources:
  postgresql-database:
    source-id: "DS001"
    type: "database"
    connection-string: "postgresql://localhost:5432/apex_comprehensive_demo"
    schema: "rule_config"
    tables: 5
    estimated-records: 1000
    
  yaml-configurations:
    source-id: "DS002"
    type: "yaml-files"
    base-path: "evaluation/bootstrap-comprehensive"
    file-count: 5
    total-rules: 50
    
  external-apis:
    source-id: "DS003"
    type: "rest-api"
    endpoints: ["credit-bureau", "payment-processor", "compliance-service"]
    availability: "simulated"

# Performance specifications
performance-specs:
  processing-capacity:
    loan-applications-per-second: 1000
    orders-per-second: 2000
    combined-rules-per-second: 500
    
  response-times:
    infrastructure-setup: "10-15 seconds"
    rule-processing: "< 100ms"
    batch-processing: "< 5 seconds per 1000 records"
    
  resource-requirements:
    memory: "512MB"
    cpu: "2 cores"
    storage: "1GB"
    
  scalability:
    horizontal-scaling: "supported"
    load-balancing: "supported"
    clustering: "supported"

# Monitoring and observability
monitoring:
  metrics:
    - "processing-throughput"
    - "response-times"
    - "error-rates"
    - "resource-utilization"
    - "rule-execution-statistics"
    
  alerts:
    - condition: "response-time > 500ms"
      action: "performance-alert"
    - condition: "error-rate > 1%"
      action: "error-alert"
    - condition: "memory-usage > 80%"
      action: "resource-alert"
      
  dashboards:
    - "real-time-processing-dashboard"
    - "rule-performance-dashboard"
    - "infrastructure-health-dashboard"

# Security configuration
security:
  authentication:
    type: "service-account"
    credentials: "environment-variables"
    
  authorization:
    rbac: "enabled"
    permissions: ["read", "write", "execute"]
    
  encryption:
    data-at-rest: "AES-256"
    data-in-transit: "TLS-1.3"
    
  audit:
    logging: "comprehensive"
    retention: "90 days"
    compliance: ["SOX", "GDPR", "PCI-DSS"]

# Disaster recovery
disaster-recovery:
  backup-strategy:
    frequency: "daily"
    retention: "30 days"
    storage: "cloud-storage"
    
  recovery-objectives:
    rto: "4 hours"
    rpo: "1 hour"
    
  failover:
    automatic: "enabled"
    geographic: "multi-region"
