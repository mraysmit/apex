# APEX Trade Record Matcher Demo Configuration
# Real APEX YAML configuration for trade record matcher
# Replaces all hardcoded trade record matcher logic from TradeRecordMatcherDemo (@version 1.0)

metadata:
  id: "Trade Record Matcher Demo"
  name: "Trade Record Matcher Demo"
  version: "1.0.0"
  description: "APEX-compliant trade record matcher with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  tags: ["apex-demo", "evaluation", "trade-record-matcher"]

# External data source for trade record matcher configurations
external-data-sources:
  - name: "trade-matching-algorithms-config"
    type: "external-data-config"
    source: "evaluation/trade-record-matcher/trade-matching-algorithms-config.yaml"
    
  - name: "trade-validation-engines-config"
    type: "external-data-config"
    source: "evaluation/trade-record-matcher/trade-validation-engines-config.yaml"
    
  - name: "trade-record-processors-config"
    type: "external-data-config"
    source: "evaluation/trade-record-matcher/trade-record-processors-config.yaml"

# APEX enrichment processing for trade record matcher
enrichments:
  - id: "trade-matching-algorithms-processing"
    name: "trade-matching-algorithms-processing"
    type: "lookup-enrichment"
    description: "Process trade matching algorithms using data-driven configuration"
    condition: "#data.serviceType == 'trade-matching-algorithms-processing'"
    lookup-source: "trade-matching-algorithms-config"
    lookup-key: "#data.algorithmType != null ? #data.algorithmType : 'default'"
    target-field: "tradeMatchingAlgorithmsResult"

  - id: "trade-validation-engines-processing"
    name: "trade-validation-engines-processing"
    type: "lookup-enrichment"
    description: "Process trade validation engines using data-driven configuration"
    condition: "#data.serviceType == 'trade-validation-engines-processing'"
    lookup-source: "trade-validation-engines-config"
    lookup-key: "#data.engineType != null ? #data.engineType : 'default'"
    target-field: "tradeValidationEnginesResult"

  - id: "trade-record-processors-processing"
    name: "trade-record-processors-processing"
    type: "lookup-enrichment"
    description: "Process trade record processors using data-driven configuration"
    condition: "#data.serviceType == 'trade-record-processors-processing'"
    lookup-source: "trade-record-processors-config"
    lookup-key: "#data.processorType != null ? #data.processorType : 'default'"
    target-field: "tradeRecordProcessorsResult"

  - id: "trade-record-matcher-summary"
    name: "trade-record-matcher-summary"
    type: "expression-enrichment"
    description: "Generate trade record matcher summary"
    condition: "true"
    expression: "'Trade record matcher completed: ' + (#data.serviceType != null ? #data.serviceType : 'unknown') + ' using real APEX services'"
    target-field: "tradeRecordMatcherSummary"

# Service processing categories
processing-categories:
  - category: "trade-matching-algorithms-processing"
    description: "Trade matching algorithms creation and management"
    processing-type: "real-apex-enrichment"
    algorithm-types:
      - "Exact match algorithms"
      - "Fuzzy match algorithms"
      - "Pattern match algorithms"
      - "Semantic match algorithms"
    
  - category: "trade-validation-engines-processing"
    description: "Trade validation engines processing"
    processing-type: "real-apex-enrichment"
    engine-types:
      - "Trade type validation engines"
      - "Trade data validation engines"
      - "Trade business rule engines"
      - "Trade compliance engines"
    
  - category: "trade-record-processors-processing"
    description: "Trade record processors processing"
    processing-type: "real-apex-enrichment"
    processor-aspects:
      - "Trade record parsing processors"
      - "Trade record transformation processors"
      - "Trade record enrichment processors"
      - "Trade record output processors"

# Trade record matcher patterns
trade-record-matcher-patterns:
  trade-matching-pattern:
    pattern-name: "Trade Matching Processing"
    description: "Pattern for processing trade matching operations"
    matching-types: ["EXACT", "FUZZY", "PATTERN", "SEMANTIC"]
    matching-flow:
      - "Trade record ingestion and parsing"
      - "Trade matching algorithm selection"
      - "Trade matching execution and scoring"
      - "Trade match result validation and output"
    
  trade-validation-pattern:
    pattern-name: "Trade Validation Processing"
    description: "Pattern for processing trade validation operations"
    validation-types: ["TYPE", "DATA", "BUSINESS_RULE", "COMPLIANCE"]
    validation-methodology:
      - "Trade data extraction and normalization"
      - "Trade validation rule application"
      - "Trade validation result aggregation"
      - "Trade validation reporting and alerting"
    
  trade-record-pattern:
    pattern-name: "Trade Record Processing"
    description: "Pattern for processing trade record operations"
    processing-types: ["PARSING", "TRANSFORMATION", "ENRICHMENT", "OUTPUT"]
    processing-framework:
      - "Trade record format detection and parsing"
      - "Trade record data transformation and mapping"
      - "Trade record enrichment and augmentation"
      - "Trade record output formatting and delivery"

# Trade type configurations
trade-type-configurations:
  equity-trade-type:
    trade-type: "Equity"
    matching-characteristics:
      exact-match-fields: ["symbol", "quantity", "price"]
      fuzzy-match-fields: ["tradeDate", "settlementDate"]
      validation-rules: ["EQUITY_SYMBOL_VALIDATION", "EQUITY_QUANTITY_VALIDATION"]
      business-rules: ["EQUITY_MARKET_HOURS", "EQUITY_POSITION_LIMITS"]
    
  fixed-income-trade-type:
    trade-type: "FixedIncome"
    matching-characteristics:
      exact-match-fields: ["cusip", "faceValue", "yield"]
      fuzzy-match-fields: ["maturityDate", "couponRate"]
      validation-rules: ["CUSIP_VALIDATION", "YIELD_VALIDATION"]
      business-rules: ["BOND_MATURITY_CHECK", "CREDIT_RATING_VALIDATION"]
    
  derivative-trade-type:
    trade-type: "Derivative"
    matching-characteristics:
      exact-match-fields: ["underlyingAsset", "strikePrice", "expirationDate"]
      fuzzy-match-fields: ["premium", "delta"]
      validation-rules: ["UNDERLYING_VALIDATION", "STRIKE_VALIDATION"]
      business-rules: ["DERIVATIVE_MARGIN_CHECK", "EXPIRATION_VALIDATION"]
    
  forex-trade-type:
    trade-type: "Forex"
    matching-characteristics:
      exact-match-fields: ["currencyPair", "amount", "exchangeRate"]
      fuzzy-match-fields: ["valueDate", "forwardRate"]
      validation-rules: ["CURRENCY_PAIR_VALIDATION", "RATE_VALIDATION"]
      business-rules: ["FOREX_SETTLEMENT_CHECK", "CURRENCY_LIMITS"]
    
  commodity-trade-type:
    trade-type: "Commodity"
    matching-characteristics:
      exact-match-fields: ["commodity", "quantity", "deliveryDate"]
      fuzzy-match-fields: ["price", "location"]
      validation-rules: ["COMMODITY_VALIDATION", "DELIVERY_VALIDATION"]
      business-rules: ["COMMODITY_STORAGE_CHECK", "DELIVERY_LOGISTICS"]

# Matching algorithm configurations
matching-algorithm-configurations:
  exact-match-algorithm:
    algorithm-name: "Exact Match"
    algorithm-characteristics:
      precision: "HIGH"
      recall: "MODERATE"
      performance: "FAST"
      use-cases: ["Primary key matching", "Critical field matching"]
    
  fuzzy-match-algorithm:
    algorithm-name: "Fuzzy Match"
    algorithm-characteristics:
      precision: "MODERATE"
      recall: "HIGH"
      performance: "MODERATE"
      use-cases: ["Name matching", "Address matching", "Date range matching"]
    
  pattern-match-algorithm:
    algorithm-name: "Pattern Match"
    algorithm-characteristics:
      precision: "MODERATE"
      recall: "MODERATE"
      performance: "MODERATE"
      use-cases: ["Format matching", "Structure matching", "Template matching"]
    
  semantic-match-algorithm:
    algorithm-name: "Semantic Match"
    algorithm-characteristics:
      precision: "VARIABLE"
      recall: "HIGH"
      performance: "SLOW"
      use-cases: ["Meaning-based matching", "Context matching", "Intelligent matching"]

# Performance settings
performance-settings:
  trade-matching-algorithms-processing:
    processing-timeout: 5000
    parallel-processing: true
    cache-results: true
    
  trade-validation-engines-processing:
    processing-timeout: 3000
    parallel-processing: true
    validation-optimization: true
    
  trade-record-processors-processing:
    processing-timeout: 4000
    parallel-processing: false
    processing-intensive: true

# Demonstration scenarios
demonstration-scenarios:
  comprehensive-trade-record-matcher:
    scenario-name: "Comprehensive Trade Record Matcher"
    description: "Demonstrate comprehensive trade record matcher processing"
    steps:
      - "Load trade record matcher configurations"
      - "Process trade matching algorithms"
      - "Process trade validation engines"
      - "Process trade record processors"
      - "Generate matching results"
    expected-outcome: "Successful comprehensive trade record matching"
    
  trade-matching-analysis:
    scenario-name: "Trade Matching Analysis"
    description: "Demonstrate trade matching analysis"
    steps:
      - "Load trade matching configurations"
      - "Process exact match algorithms"
      - "Process fuzzy match algorithms"
      - "Generate matching results"
    expected-outcome: "Successful trade matching analysis"
    
  trade-validation-optimization:
    scenario-name: "Trade Validation Optimization"
    description: "Demonstrate trade validation optimization"
    steps:
      - "Load trade validation configurations"
      - "Process trade type validation engines"
      - "Process trade business rule engines"
      - "Generate validation results"
    expected-outcome: "Successful trade validation optimization"

# Trade record matcher configuration
trade-record-matcher:
  service-categories:
    category-type: "Trade Record Matcher Categories"
    description: "Categories for trade record matcher operations"
    available-categories:
      - "Exact trade matching and validation"
      - "Fuzzy trade matching and scoring"
      - "Pattern-based trade recognition"
      - "Semantic trade understanding"
      - "Trade record processing and transformation"
    category-characteristics:
      - "Multi-algorithm matching support"
      - "Real-time validation processing"
      - "Intelligent record transformation"
      - "Comprehensive matching analytics"

# Quality assurance
quality-assurance:
  service-reliability:
    - "Trade matching must be accurate"
    - "Trade validation must be comprehensive"
    - "Trade processing must be reliable"
    - "Performance must meet SLA requirements"
    
  matching-accuracy:
    - "Matching algorithms must be precise"
    - "Validation rules must be correct"
    - "Processing logic must be consistent"
    - "Results must be reproducible"
    
  business-compliance:
    - "Matching must comply with business rules"
    - "Validation must meet regulatory requirements"
    - "Processing must be auditable"
    - "Results must be traceable"

# Output configuration
output:
  include-input: true
  include-metadata: true
  format: "enhanced"
  service-summary: true
  matching-details: true
  validation-results: true
  processing-insights: true
  performance-metrics: true
