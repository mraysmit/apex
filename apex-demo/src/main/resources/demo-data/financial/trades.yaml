# Financial Demo - Trade Data
# This file contains sample trade data for the Financial demonstration
# Business users can modify this data to test different scenarios

metadata:
  version: "1.0"
  description: "Sample trade data for Financial demonstrations"
  lastUpdated: "2025-07-28"
  author: "APEX Demo Team"

# Configuration for trade data generation and validation
configuration:
  validation:
    minAmount: 1000.0
    maxAmount: 100000000.0
    validCurrencies: ["USD", "EUR", "GBP", "JPY", "CHF", "CAD", "AUD"]
    validStatuses: ["NEW", "PENDING", "APPROVED", "SETTLED", "CANCELLED", "FAILED"]
    validInstrumentTypes: ["EQUITY", "BOND", "COMMODITY_SWAP", "FX_SWAP", "DERIVATIVE"]
    requiredFields: ["tradeId", "amount", "currency", "counterparty", "tradeDate"]
  
  business-rules:
    largeTradeThreshold: 10000000.0
    reportingThreshold: 1000000.0
    highRiskThreshold: 50000000.0
    maxSingleTradeAmount: 100000000.0

# Sample trade data for demonstrations
trades:
  # Valid trades for positive test cases
  - tradeId: "TRD001"
    amount: 1500000.0
    currency: "USD"
    counterparty: "Goldman Sachs"
    instrumentType: "BOND"
    status: "NEW"
    tradeDate: "2025-07-28"
    settlementDate: "2025-07-30"
    tradingDesk: "FIXED_INCOME"
    description: "Valid government bond trade"
    
  - tradeId: "TRD002"
    amount: 5000000.0
    currency: "EUR"
    counterparty: "Deutsche Bank"
    instrumentType: "EQUITY"
    status: "PENDING"
    tradeDate: "2025-07-28"
    settlementDate: "2025-07-31"
    tradingDesk: "EQUITIES"
    description: "Valid equity trade"
    
  - tradeId: "TRD003"
    amount: 25000000.0
    currency: "USD"
    counterparty: "JP Morgan"
    instrumentType: "COMMODITY_SWAP"
    status: "APPROVED"
    tradeDate: "2025-07-28"
    settlementDate: "2025-08-02"
    tradingDesk: "COMMODITIES"
    description: "Large commodity swap trade"
    
  - tradeId: "TRD004"
    amount: 750000.0
    currency: "GBP"
    counterparty: "Barclays"
    instrumentType: "FX_SWAP"
    status: "SETTLED"
    tradeDate: "2025-07-27"
    settlementDate: "2025-07-29"
    tradingDesk: "FX"
    description: "Small FX swap trade"
    
  # OTC derivatives trades
  - tradeId: "SWAP001"
    amount: 10000000.0
    currency: "USD"
    counterparty: "JP Morgan"
    instrumentType: "COMMODITY_SWAP"
    status: "NEW"
    tradeDate: "2025-07-28"
    settlementDate: "2027-07-28"
    tradingDesk: "DERIVATIVES"
    commodity: "CRUDE_OIL"
    notional: 10000000.0
    description: "OTC commodity total return swap"
    
  - tradeId: "REG001"
    amount: 50000000.0
    currency: "USD"
    counterparty: "European Bank"
    instrumentType: "DERIVATIVE"
    status: "PENDING"
    tradeDate: "2025-07-28"
    settlementDate: "2025-08-01"
    tradingDesk: "DERIVATIVES"
    reportingRequired: true
    jurisdiction: "EU"
    mifidCompliant: true
    description: "Large derivative requiring regulatory reporting"
    
  - tradeId: "LIFE001"
    amount: 3000000.0
    currency: "EUR"
    counterparty: "Credit Suisse"
    instrumentType: "BOND"
    status: "PENDING"
    tradeDate: "2025-07-28"
    settlementDate: "2025-07-30"
    tradingDesk: "FIXED_INCOME"
    approvalRequired: true
    settlementReady: false
    description: "Trade requiring approval workflow"
    
  # Invalid trades for testing validation failures
  - tradeId: "TRD_INVALID_001"
    amount: -50000.0
    currency: "XXX"
    counterparty: null
    instrumentType: "UNKNOWN"
    status: "INVALID"
    tradeDate: "2025-07-28"
    description: "Invalid trade - negative amount, invalid currency, missing counterparty"
    
  - tradeId: "TRD_INVALID_002"
    amount: 150000000.0
    currency: "USD"
    counterparty: "Unknown Bank"
    instrumentType: "EQUITY"
    status: "NEW"
    tradeDate: "2025-07-28"
    description: "Invalid trade - exceeds maximum trade amount"

# Counterparty reference data
counterparties:
  - name: "Goldman Sachs"
    code: "GS"
    rating: "A+"
    jurisdiction: "US"
    regulatedEntity: true
    creditLimit: 100000000.0
    
  - name: "Deutsche Bank"
    code: "DB"
    rating: "A"
    jurisdiction: "DE"
    regulatedEntity: true
    creditLimit: 75000000.0
    
  - name: "JP Morgan"
    code: "JPM"
    rating: "AA-"
    jurisdiction: "US"
    regulatedEntity: true
    creditLimit: 150000000.0
    
  - name: "Barclays"
    code: "BARC"
    rating: "A-"
    jurisdiction: "GB"
    regulatedEntity: true
    creditLimit: 50000000.0
    
  - name: "Credit Suisse"
    code: "CS"
    rating: "BBB+"
    jurisdiction: "CH"
    regulatedEntity: true
    creditLimit: 40000000.0
    
  - name: "European Bank"
    code: "EB"
    rating: "A"
    jurisdiction: "EU"
    regulatedEntity: true
    creditLimit: 60000000.0

# Currency reference data
currencies:
  - code: "USD"
    name: "US Dollar"
    region: "US"
    active: true
    
  - code: "EUR"
    name: "Euro"
    region: "EU"
    active: true
    
  - code: "GBP"
    name: "British Pound"
    region: "GB"
    active: true
    
  - code: "JPY"
    name: "Japanese Yen"
    region: "JP"
    active: true
    
  - code: "CHF"
    name: "Swiss Franc"
    region: "CH"
    active: true
    
  - code: "CAD"
    name: "Canadian Dollar"
    region: "CA"
    active: true
    
  - code: "AUD"
    name: "Australian Dollar"
    region: "AU"
    active: true

# Test scenarios for different validation outcomes
test-scenarios:
  basic-validation:
    description: "Basic trade validation scenarios"
    trades: ["TRD001", "TRD002", "TRD003", "TRD004"]
    expectedResult: "PASS"
    
  otc-derivatives:
    description: "OTC derivatives validation"
    trades: ["SWAP001", "REG001"]
    expectedResult: "PASS"
    
  lifecycle-management:
    description: "Trade lifecycle management"
    trades: ["LIFE001"]
    expectedResult: "PENDING_APPROVAL"
    
  validation-failures:
    description: "Invalid trades should fail validation"
    trades: ["TRD_INVALID_001", "TRD_INVALID_002"]
    expectedResult: "FAIL"
    
  large-trades:
    description: "Large trade processing"
    trades: ["TRD003", "SWAP001", "REG001"]
    expectedResult: "REQUIRES_APPROVAL"

# Business rules for trade validation
business-rules:
  amount-validation:
    rule: "#amount != null && #amount > 0 && #amount <= 100000000"
    description: "Trade amount must be positive and within limits"
    errorMessage: "Trade amount must be between 0 and 100,000,000"
    
  currency-validation:
    rule: "#currency != null && #currency in {'USD', 'EUR', 'GBP', 'JPY', 'CHF', 'CAD', 'AUD'}"
    description: "Trade currency must be supported"
    errorMessage: "Trade currency must be from supported list"
    
  counterparty-validation:
    rule: "#counterparty != null && #counterparty.length() > 0"
    description: "Trade must have a valid counterparty"
    errorMessage: "Trade counterparty is required"
    
  date-validation:
    rule: "#tradeDate != null && !#tradeDate.isAfter(T(java.time.LocalDate).now())"
    description: "Trade date cannot be in the future"
    errorMessage: "Trade date cannot be in the future"
    
  large-trade-validation:
    rule: "#amount < 10000000 || #status == 'APPROVED'"
    description: "Large trades require approval"
    errorMessage: "Trades over 10M require approval"
