# ============================================================================
# APEX FAILURE POLICY DEMONSTRATION: FLAG-FOR-REVIEW VALIDATION RULES
# ============================================================================
#
# PURPOSE:
# These validation rules are designed to fail for test data that lacks
# certain required fields. When these rules fail with "flag-for-review" policy,
# the scenario should be flagged for manual review but processing should continue.
#
metadata:
  id: "flag-for-review-validation-rules"
  name: "Flag For Review Validation Rules"
  version: "1.0.0"
  description: "Validation rules that flag scenarios for review when they fail"
  type: "validation-config"

# VALIDATION RULES:
# These rules check for required fields that may be missing in test data
# When they fail, they should trigger review flags instead of terminating
rules:
  - id: "required-amount-check"
    name: "Required Amount Check"
    condition: "#data.amount != null && #data.amount > 0"
    message: "Amount is required and must be greater than zero for transaction processing"
    severity: "ERROR"
    enabled: true

  - id: "required-customer-name-check"
    name: "Required Customer Name Check"
    condition: "#data.customerName != null && #data.customerName.length() > 0"
    message: "Customer name is required for all transactions"
    severity: "ERROR"
    enabled: true

  - id: "transaction-type-validation"
    name: "Transaction Type Validation"
    condition: "#data.transactionType != null && #data.transactionType.length() > 0"
    message: "Transaction type should be specified for proper categorization"
    severity: "WARNING"
    enabled: true

# ============================================================================
# END OF FLAG-FOR-REVIEW VALIDATION RULES
# ============================================================================
