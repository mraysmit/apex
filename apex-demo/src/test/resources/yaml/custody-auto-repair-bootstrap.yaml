# ============================================================================
# APEX YAML Configuration File
# ============================================================================
# Used by: ORPHANED - No Java test currently uses this file
# Purpose: Custody auto-repair bootstrap configuration for automated custody
#          operations, trade repair processing, and custody data validation
#          using APEX rules engine for custody management systems
# Status: Available for integration with custody auto-repair tests
# ============================================================================
#
# This YAML configuration provides a complete, production-ready demonstration
# of automated custody settlement instruction repair for Asian financial markets.
# It showcases sophisticated weighted decision-making and comprehensive
# reference data management.
#
# OVERVIEW:
# This bootstrap configuration implements intelligent auto-repair logic for
# failed custody settlement instructions across major Asian markets (Japan,
# Hong Kong, Singapore, Korea). It demonstrates enterprise-grade automation
# for high-volume custody operations.
#
# BOOTSTRAP ARCHITECTURE:
# - Complete end-to-end demonstration in a single configuration
# - Production-ready patterns for custody operations
# - Comprehensive Asian market coverage with local conventions
# - Self-contained with all necessary reference datasets
# - Real-world business scenarios and edge cases
#
# ASIAN MARKETS SPECIALIZATION:
# - Japan (JP): T+2 settlement, JSE conventions, yen processing
# - Hong Kong (HK): T+2 settlement, HKEX rules, multi-currency
# - Singapore (SG): T+2 settlement, SGX conventions, regional hub
# - Korea (KR): T+2 settlement, KRX rules, won processing
# - Cross-border settlement coordination and currency management
#
# AUTO-REPAIR DECISION ENGINE:
# 1. WEIGHTED SCORING ALGORITHM
#    - Client-level Standing Instructions (60% weight)
#    - Market-level conventions (30% weight)
#    - Instrument-level defaults (10% weight)
#
# 2. DECISION THRESHOLDS
#    - Score ≥ 50: REPAIR_APPROVED (automatic processing)
#    - Score 20-49: PARTIAL_REPAIR (limited automation with monitoring)
#    - Score < 20: MANUAL_REVIEW_REQUIRED (human intervention)
#
# 3. BUSINESS LOGIC LAYERS
#    - Eligibility pre-checks (authorization, timing, risk)
#    - Weighted evaluation across multiple criteria
#    - Final decision with comprehensive audit trail
#
# OPERATIONAL FEATURES:
# - Real-time processing during market hours
# - Batch processing for end-of-day settlement
# - Error recovery and retry mechanisms
# - Comprehensive logging and audit trails
# - Performance monitoring and alerting
#
# REGULATORY COMPLIANCE:
# - Local market regulations for each jurisdiction
# - Cross-border transaction compliance
# - Anti-money laundering (AML) checks
# - Know Your Customer (KYC) validation
# - Regulatory reporting preparation
#
# INTEGRATION POINTS:
# - Custody management systems
# - Settlement networks (local and international)
# - Client reporting and notification systems
# - Risk management and compliance platforms
# - Market data and reference data services
#
# BUSINESS VALUE:
# - Reduces manual intervention by 70-80%
# - Improves settlement efficiency and reduces fails
# - Ensures consistent application of client preferences
# - Provides comprehensive audit trail for compliance
# - Enables 24/7 processing across Asian time zones
#
# ============================================================================

metadata:
  id: "custody-auto-repair-bootstrap-rules"
  name: "Custody Auto-Repair Bootstrap Rules"
  version: "1.0"
  description: "Complete bootstrap demonstration of Standing Instruction auto-repair for custody settlement in Asian markets"
  type: "bootstrap"
  author: "Mark Andrew Ray-Smith Cityline Ltd"
  created: "2025-07-30"
  created-by: "bootstrap.admin@company.com"
  business-domain: "Custody and Safekeeping"
  tags: ["bootstrap", "custody", "settlement", "auto-repair", "asian-markets", "standing-instructions", "weighted-rules"]
  regulatoryScope: "Asian Markets (Japan, Hong Kong, Singapore, Korea)"
  
# ============================================================================
# CUSTODY AUTO-REPAIR RULE CHAINS
# ============================================================================
#
# These rule chains implement sophisticated auto-repair logic using advanced
# chaining patterns to automate custody settlement instruction repair across
# Asian financial markets.
#
# CHAINING ARCHITECTURE:
# 1. PRIMARY CHAIN - Weighted scoring for repair decisions
# 2. ELIGIBILITY CHAIN - Pre-qualification checks
# 3. ENRICHMENT CHAIN - Reference data enhancement
# 4. MONITORING CHAIN - Performance and compliance tracking
#
# WEIGHTED DECISION ALGORITHM:
# The primary chain uses accumulative chaining to build confidence scores
# across multiple criteria, enabling intelligent automation decisions:
#
# SCORING METHODOLOGY:
# - Client-level SIs: 60% weight (highest priority for client preferences)
# - Market-level SIs: 30% weight (regional conventions and practices)
# - Instrument-level SIs: 10% weight (asset-specific defaults)
#
# DECISION MATRIX:
# - High Confidence (≥50): Automatic repair with full automation
# - Medium Confidence (20-49): Partial repair with enhanced monitoring
# - Low Confidence (<20): Manual review required with human oversight
#
# ASIAN MARKET CONSIDERATIONS:
# - Multi-timezone processing (Tokyo, Hong Kong, Singapore, Seoul)
# - Local market conventions and settlement cycles
# - Currency-specific processing rules
# - Cross-border settlement coordination
# - Regulatory compliance across jurisdictions
#
rule-chains:
  # Primary auto-repair decision chain
  - id: "custody-auto-repair-bootstrap-rules"
    name: "Standing Instruction Auto-Repair Chain"
    description: "Weighted evaluation of client, market, and instrument level standing instructions"
    pattern: "accumulative-chaining"
    enabled: true
    priority: 100
    configuration:
      accumulator-variable: "repairScore"
      initial-value: 0
      accumulation-rules:
        # Client-level rules (highest weight: 0.6)
        - id: "custody-auto-repair-bootstrap-rules"
          condition: "clientId != null && applicableClientSI != null ? 60 : 0"
          message: "Client-level SI evaluation - Premium clients get highest priority"
          weight: 0.6
          description: "Evaluates client-specific standing instructions with highest priority"
        # Market-level rules (medium weight: 0.3)
        - id: "custody-auto-repair-bootstrap-rules"
          condition: "market != null && applicableMarketSI != null ? 30 : 0"
          message: "Market-level SI evaluation - Asian market conventions applied"
          weight: 0.3
          description: "Applies market-specific settlement conventions for Asian markets"
        # Instrument-level rules (lowest weight: 0.1)
        - id: "custody-auto-repair-bootstrap-rules"
          condition: "instrumentType != null && applicableInstrumentSI != null ? 10 : 0"
          message: "Instrument-level SI evaluation - Asset class defaults applied"
          weight: 0.1
          description: "Applies instrument-type specific settlement defaults"
      final-decision-rule:
        id: "custody-auto-repair-bootstrap-rules"
        condition: "repairScore >= 50 ? 'REPAIR_APPROVED' : (repairScore >= 20 ? 'PARTIAL_REPAIR' : 'MANUAL_REVIEW_REQUIRED')"
        message: "Final auto-repair decision based on weighted scoring"
        description: "Determines repair action based on accumulated confidence score"

  # Eligibility pre-check chain
  - id: "custody-auto-repair-bootstrap-rules"
    name: "Auto-Repair Eligibility Check"
    description: "Pre-flight checks for auto-repair eligibility including high-value and opt-out exceptions"
    pattern: "conditional-chaining"
    enabled: true
    priority: 200
    configuration:
      trigger-rule:
        id: "custody-auto-repair-bootstrap-rules"
        condition: "requiresRepair && !highValueTransaction && !clientOptOut"
        message: "Basic eligibility criteria met for auto-repair"
        description: "Checks if instruction requires repair and is not excluded by business rules"
      conditional-rules:
        on-trigger:
          - id: "custody-auto-repair-bootstrap-rules"
            condition: "true"
            message: "Proceeding with auto-repair evaluation"
            description: "Instruction passed eligibility checks"
        on-no-trigger:
          - id: "custody-auto-repair-bootstrap-rules"
            condition: "false"
            message: "Instruction not eligible for auto-repair - manual intervention required"
            description: "Instruction failed eligibility checks"

# Comprehensive enrichments for standing instruction lookup and field population
enrichments:
  # Client Standing Instructions Enrichment
  - id: "custody-auto-repair-bootstrap-rules"
    name: "Client Standing Instructions Lookup"
    type: "lookup-enrichment"
    target-type: "BootstrapSettlementInstruction"
    enabled: true
    priority: 100
    condition: "clientId != null"
    description: "Enriches instructions with client-specific standing instructions"
    lookup-config:
      lookup-key: "clientId"
      lookup-dataset:
        type: "inline"
        key-field: "clientId"
        data:
          # Premium institutional client - Asia Pacific
          - clientid: "custody-auto-repair-bootstrap-rules"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Premium Asset Management Asia - Default SI"
            scopeType: "CLIENT"
            weight: 0.6
            confidenceLevel: 0.98
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Premium Global Custody Services"
            defaultCounterpartyBic: "PREMGBCUST01"
            defaultCounterpartyAccount: "PREM_ASIA_001_MAIN"
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Premium Global Custodian Ltd"
            defaultCustodianBic: "PREMGBCUST01"
            defaultCustodialAccount: "CUST_PREM_ASIA_001"
            defaultSafekeepingAccount: "SAFE_PREM_ASIA_001"
            defaultSettlementMethod: "DVP_PREMIUM"
            defaultDeliveryInstruction: "DELIVER"
            enabled: true
            riskCategory: "LOW"
            businessJustification: "Premium client with global custody arrangement"
            region: "ASIA_PACIFIC"
            clientTier: "PREMIUM"

          # Standard institutional client
          - clientid: "custody-auto-repair-bootstrap-rules"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Standard Asset Management - Default SI"
            scopeType: "CLIENT"
            weight: 0.6
            confidenceLevel: 0.90
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Standard Regional Custody"
            defaultCounterpartyBic: "STDRGNLCUST"
            defaultCounterpartyAccount: "STD_ASIA_002_MAIN"
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Standard Asia Custodian"
            defaultCustodianBic: "STDASIACUST"
            defaultCustodialAccount: "CUST_STD_ASIA_002"
            defaultSafekeepingAccount: "SAFE_STD_ASIA_002"
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            enabled: true
            riskCategory: "MEDIUM"
            region: "ASIA_PACIFIC"
            clientTier: "STANDARD"

          # Hedge fund client
          - clientid: "custody-auto-repair-bootstrap-rules"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Asia Hedge Fund Partners - Default SI"
            scopeType: "CLIENT"
            weight: 0.6
            confidenceLevel: 0.85
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Prime Brokerage Services"
            defaultCounterpartyBic: "PRIMEBRKBIC"
            defaultCounterpartyAccount: "PRIME_HF_003_MARGIN"
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Prime Broker Custodian"
            defaultCustodianBic: "PRIMEBRKBIC"
            defaultCustodialAccount: "CUST_PRIME_HF_003"
            defaultSafekeepingAccount: "SAFE_PRIME_HF_003"
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            enabled: true
            riskCategory: "HIGH"
            requiresApproval: true
            region: "ASIA_PACIFIC"
            clientTier: "HEDGE_FUND"

          # Client with opt-out (for exception testing)
          - clientid: "custody-auto-repair-bootstrap-rules"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Opt-Out Client - Manual Only"
            scopeType: "CLIENT"
            weight: 0.6
            confidenceLevel: 0.95
            enabled: false
            riskCategory: "MEDIUM"
            businessJustification: "Client opted out of auto-repair"
            region: "ASIA_PACIFIC"
            clientTier: "STANDARD"

    field-mappings:
      - source-field: "siId"
        target-field: "applicableClientSI.siId"
      - source-field: "siName"
        target-field: "applicableClientSI.siName"
      - source-field: "scopeType"
        target-field: "applicableClientSI.scopeType"
      - source-field: "weight"
        target-field: "applicableClientSI.weight"
      - source-field: "confidenceLevel"
        target-field: "applicableClientSI.confidenceLevel"
      - source-field: "defaultCounterpartyId"
        target-field: "applicableClientSI.defaultCounterpartyId"
      - source-field: "defaultCounterpartyName"
        target-field: "applicableClientSI.defaultCounterpartyName"
      - source-field: "defaultCounterpartyBic"
        target-field: "applicableClientSI.defaultCounterpartyBic"
      - source-field: "defaultCounterpartyAccount"
        target-field: "applicableClientSI.defaultCounterpartyAccount"
      - source-field: "defaultCustodianId"
        target-field: "applicableClientSI.defaultCustodianId"
      - source-field: "defaultCustodianName"
        target-field: "applicableClientSI.defaultCustodianName"
      - source-field: "defaultCustodianBic"
        target-field: "applicableClientSI.defaultCustodianBic"
      - source-field: "defaultCustodialAccount"
        target-field: "applicableClientSI.defaultCustodialAccount"
      - source-field: "defaultSafekeepingAccount"
        target-field: "applicableClientSI.defaultSafekeepingAccount"
      - source-field: "defaultSettlementMethod"
        target-field: "applicableClientSI.defaultSettlementMethod"
      - source-field: "defaultDeliveryInstruction"
        target-field: "applicableClientSI.defaultDeliveryInstruction"
      - source-field: "riskCategory"
        target-field: "applicableClientSI.riskCategory"
      - source-field: "businessJustification"
        target-field: "applicableClientSI.businessJustification"
      - source-field: "enabled"
        target-field: "applicableClientSI.enabled"

  # Market Standing Instructions Enrichment
  - id: "custody-auto-repair-bootstrap-rules"
    name: "Market Standing Instructions Lookup"
    type: "lookup-enrichment"
    target-type: "BootstrapSettlementInstruction"
    enabled: true
    priority: 200
    condition: "market != null"
    description: "Enriches instructions with market-specific standing instructions for Asian markets"
    lookup-config:
      lookup-key: "market"
      lookup-dataset:
        type: "inline"
        key-field: "market"
        data:
          # Japan Market Configuration
          - market: "JAPAN"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Japan Market Default SI"
            scopeType: "MARKET"
            weight: 0.3
            confidenceLevel: 0.88
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Japan Standard Custodian KK"
            defaultCustodianBic: "JPSTDCUST01"
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Japan Standard Counterparty"
            defaultCounterpartyBic: "JPSTDCP001"
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+2"
            marketMic: "XJPX"
            localMarketCode: "TSE"
            baseCurrency: "JPY"
            holidayCalendar: "JAPAN"
            regulatoryRegime: "JFSA"
            tradingHours: "09:00-15:00 JST"
            enabled: true
            region: "ASIA_PACIFIC"

          # Hong Kong Market Configuration
          - market: "HONG_KONG"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Hong Kong Market Default SI"
            scopeType: "MARKET"
            weight: 0.3
            confidenceLevel: 0.90
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Hong Kong Standard Custodian Ltd"
            defaultCustodianBic: "HKSTDCUST01"
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Hong Kong Standard Counterparty"
            defaultCounterpartyBic: "HKSTDCP001"
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+2"
            marketMic: "XHKG"
            localMarketCode: "HKEX"
            baseCurrency: "HKD"
            holidayCalendar: "HONG_KONG"
            regulatoryRegime: "SFC"
            tradingHours: "09:30-16:00 HKT"
            enabled: true
            region: "ASIA_PACIFIC"

          # Singapore Market Configuration
          - market: "SINGAPORE"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Singapore Market Default SI"
            scopeType: "MARKET"
            weight: 0.3
            confidenceLevel: 0.87
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Singapore Standard Custodian Pte Ltd"
            defaultCustodianBic: "SGSTDCUST01"
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Singapore Standard Counterparty"
            defaultCounterpartyBic: "SGSTDCP001"
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+2"
            marketMic: "XSES"
            localMarketCode: "SGX"
            baseCurrency: "SGD"
            holidayCalendar: "SINGAPORE"
            regulatoryRegime: "MAS"
            tradingHours: "09:00-17:00 SGT"
            enabled: true
            region: "ASIA_PACIFIC"

          # Korea Market Configuration
          - market: "KOREA"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Korea Market Default SI"
            scopeType: "MARKET"
            weight: 0.3
            confidenceLevel: 0.85
            defaultCustodianid: "custody-auto-repair-bootstrap-rules"
            defaultCustodianName: "Korea Standard Custodian Co Ltd"
            defaultCustodianBic: "KRSTDCUST01"
            defaultCounterpartyid: "custody-auto-repair-bootstrap-rules"
            defaultCounterpartyName: "Korea Standard Counterparty"
            defaultCounterpartyBic: "KRSTDCP001"
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+2"
            marketMic: "XKRX"
            localMarketCode: "KRX"
            baseCurrency: "KRW"
            holidayCalendar: "KOREA"
            regulatoryRegime: "FSC"
            tradingHours: "09:00-15:30 KST"
            enabled: true
            region: "ASIA_PACIFIC"

    field-mappings:
      - source-field: "siId"
        target-field: "applicableMarketSI.siId"
      - source-field: "siName"
        target-field: "applicableMarketSI.siName"
      - source-field: "scopeType"
        target-field: "applicableMarketSI.scopeType"
      - source-field: "weight"
        target-field: "applicableMarketSI.weight"
      - source-field: "confidenceLevel"
        target-field: "applicableMarketSI.confidenceLevel"
      - source-field: "defaultCustodianId"
        target-field: "applicableMarketSI.defaultCustodianId"
      - source-field: "defaultCustodianName"
        target-field: "applicableMarketSI.defaultCustodianName"
      - source-field: "defaultCustodianBic"
        target-field: "applicableMarketSI.defaultCustodianBic"
      - source-field: "defaultCounterpartyId"
        target-field: "applicableMarketSI.defaultCounterpartyId"
      - source-field: "defaultCounterpartyName"
        target-field: "applicableMarketSI.defaultCounterpartyName"
      - source-field: "defaultCounterpartyBic"
        target-field: "applicableMarketSI.defaultCounterpartyBic"
      - source-field: "defaultSettlementMethod"
        target-field: "applicableMarketSI.defaultSettlementMethod"
      - source-field: "defaultDeliveryInstruction"
        target-field: "applicableMarketSI.defaultDeliveryInstruction"
      - source-field: "defaultSettlementCycle"
        target-field: "applicableMarketSI.defaultSettlementCycle"
      - source-field: "marketMic"
        target-field: "applicableMarketSI.marketMic"
      - source-field: "localMarketCode"
        target-field: "applicableMarketSI.localMarketCode"
      - source-field: "baseCurrency"
        target-field: "applicableMarketSI.baseCurrency"
      - source-field: "holidayCalendar"
        target-field: "applicableMarketSI.holidayCalendar"
      - source-field: "regulatoryRegime"
        target-field: "applicableMarketSI.regulatoryRegime"
      - source-field: "tradingHours"
        target-field: "applicableMarketSI.tradingHours"
      - source-field: "enabled"
        target-field: "applicableMarketSI.enabled"

  # Instrument Standing Instructions Enrichment
  - id: "custody-auto-repair-bootstrap-rules"
    name: "Instrument Standing Instructions Lookup"
    type: "lookup-enrichment"
    target-type: "BootstrapSettlementInstruction"
    enabled: true
    priority: 300
    condition: "instrumentType != null"
    description: "Enriches instructions with instrument-type specific standing instructions"
    lookup-config:
      lookup-key: "instrumentType"
      lookup-dataset:
        type: "inline"
        key-field: "instrumentType"
        data:
          # Equity Instruments
          - instrumentType: "EQUITY"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Global Equity Instrument SI"
            scopeType: "INSTRUMENT"
            weight: 0.1
            confidenceLevel: 0.75
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+2"
            riskCategory: "MEDIUM"
            regulatoryClassification: "MIFID_EQUITY"
            enabled: true

          # Fixed Income Instruments
          - instrumentType: "FIXED_INCOME"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Global Fixed Income SI"
            scopeType: "INSTRUMENT"
            weight: 0.1
            confidenceLevel: 0.80
            defaultSettlementMethod: "DVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+1"
            riskCategory: "LOW"
            regulatoryClassification: "MIFID_BOND"
            enabled: true

          # Derivatives
          - instrumentType: "DERIVATIVES"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Global Derivatives SI"
            scopeType: "INSTRUMENT"
            weight: 0.1
            confidenceLevel: 0.70
            defaultSettlementMethod: "CASH"
            defaultDeliveryInstruction: "CASH_SETTLE"
            defaultSettlementCycle: "T+0"
            riskCategory: "HIGH"
            regulatoryClassification: "MIFID_DERIVATIVE"
            requiresApproval: true
            enabled: true

          # Foreign Exchange
          - instrumentType: "FX"
            siid: "custody-auto-repair-bootstrap-rules"
            siName: "Global FX SI"
            scopeType: "INSTRUMENT"
            weight: 0.1
            confidenceLevel: 0.85
            defaultSettlementMethod: "PVP"
            defaultDeliveryInstruction: "DELIVER"
            defaultSettlementCycle: "T+2"
            riskCategory: "MEDIUM"
            regulatoryClassification: "MIFID_FX"
            enabled: true

    field-mappings:
      - source-field: "siId"
        target-field: "applicableInstrumentSI.siId"
      - source-field: "siName"
        target-field: "applicableInstrumentSI.siName"
      - source-field: "scopeType"
        target-field: "applicableInstrumentSI.scopeType"
      - source-field: "weight"
        target-field: "applicableInstrumentSI.weight"
      - source-field: "confidenceLevel"
        target-field: "applicableInstrumentSI.confidenceLevel"
      - source-field: "defaultSettlementMethod"
        target-field: "applicableInstrumentSI.defaultSettlementMethod"
      - source-field: "defaultDeliveryInstruction"
        target-field: "applicableInstrumentSI.defaultDeliveryInstruction"
      - source-field: "defaultSettlementCycle"
        target-field: "applicableInstrumentSI.defaultSettlementCycle"
      - source-field: "riskCategory"
        target-field: "applicableInstrumentSI.riskCategory"
      - source-field: "regulatoryClassification"
        target-field: "applicableInstrumentSI.regulatoryClassification"
      - source-field: "requiresApproval"
        target-field: "applicableInstrumentSI.requiresApproval"
      - source-field: "enabled"
        target-field: "applicableInstrumentSI.enabled"

# Global configuration for the bootstrap
configuration:
  # Processing thresholds
  thresholds:
    highValueAmount: 10000000  # $10M threshold for high-value transactions
    repairApprovalScore: 50    # Score >= 50 for full auto-repair
    partialRepairScore: 20     # Score >= 20 for partial repair
    confidenceThreshold: 0.7   # Minimum confidence level

  # Performance settings
  performance:
    maxProcessingTimeMs: 100   # Target processing time
    cacheEnabled: true
    auditEnabled: true
    metricsEnabled: true

  # Business rules
  businessRules:
    clientOptOutRespected: true
    highValueManualReview: true
    requireApprovalForHighRisk: true
    auditAllDecisions: true

  # Asian market specific settings
  asianMarkets:
    supportedMarkets: ["JAPAN", "HONG_KONG", "SINGAPORE", "KOREA"]
    defaultTimezone: "Asia/Tokyo"
    regulatoryReporting: true
    crossBorderCompliance: true
