# ============================================================================
# APEX YAML Configuration File
# ============================================================================
# Used by: ORPHANED - No Java test currently uses this file
# Purpose: Test configuration for enrichment document type with calculation enrichments
#          including interest calculations, notional value calculations, and financial
#          computations for testing APEX calculation enrichment functionality
# Status: Available for integration with enrichment calculation tests
# ============================================================================

metadata:
  id: "enrichment-calculation-test"
  name: "Enrichment Document Calculation Test"
  version: "1.0.0"
  description: "Test enrichment document type with calculation enrichments"
  type: "enrichment"
  author: "apex-test-suite@example.com"
  created-by: "APEX Test Suite"
  created-date: "2025-01-14"
  business-domain: "Testing"

enrichments:
  - id: "interest-calculation"
    name: "Interest Calculation Enrichment"
    type: "calculation-enrichment"
    description: "Calculate total interest from principal, rate, and years"
    condition: "#principal != null && #interestRate != null && #years != null"
    calculation-config:
      expression: "#principal * #interestRate * #years"
      result-field: "totalInterest"
    field-mappings:
      - source-field: "totalInterest"
        target-field: "totalInterest"

  - id: "notional-calculation"
    name: "Notional Value Calculation"
    type: "calculation-enrichment"
    description: "Calculate notional value from quantity and price"
    condition: "#quantity != null && #price != null"
    calculation-config:
      expression: "#quantity * #price"
      result-field: "notionalValue"
    field-mappings:
      - source-field: "notionalValue"
        target-field: "notionalValue"

  - id: "percentage-calculation"
    name: "Percentage Calculation"
    type: "calculation-enrichment"
    description: "Calculate percentage values"
    condition: "#principal != null && #totalInterest != null"
    calculation-config:
      expression: "(#totalInterest / #principal) * 100"
      result-field: "interestPercentage"
    field-mappings:
      - source-field: "interestPercentage"
        target-field: "interestPercentage"
