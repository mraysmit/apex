name: "File Processing Demo Configuration"
description: "APEX-compliant file processing with real business logic"
version: "1.0"

enrichments:
  - id: "file-format-setup"
    name: "file-format-setup"
    type: "calculation-enrichment"
    description: "Setup file format support for JSON, XML, and CSV processing"
    condition: "#formatSetupType != null && #formatSetupScope != null"
    calculation-config:
      expression: "'File Format Setup: ' + #formatSetupType + ' with scope ' + #formatSetupScope + ' (Setup: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "fileFormatSetupResult"
    field-mappings:
      - source-field: "fileFormatSetupResult"
        target-field: "fileFormatSetupResult"

  - id: "multi-format-processing"
    name: "multi-format-processing"
    type: "calculation-enrichment"
    description: "Process multiple file formats with production-oriented patterns"
    condition: "#processingType != null && #processingScope != null"
    calculation-config:
      expression: "'Multi-Format Processing: ' + #processingType + ' with scope ' + #processingScope + ' (Processed: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "multiFormatProcessingResult"
    field-mappings:
      - source-field: "multiFormatProcessingResult"
        target-field: "multiFormatProcessingResult"

  - id: "batch-processing"
    name: "batch-processing"
    type: "calculation-enrichment"
    description: "Execute batch processing with comprehensive error handling and reporting"
    condition: "#batchType != null && #batchScope != null"
    calculation-config:
      expression: "'Batch Processing: ' + #batchType + ' with scope ' + #batchScope + ' (Executed: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "batchProcessingResult"
    field-mappings:
      - source-field: "batchProcessingResult"
        target-field: "batchProcessingResult"

  - id: "summary"
    name: "summary"
    type: "calculation-enrichment"
    description: "Generate comprehensive file processing summary with performance metrics"
    condition: "#approach != null"
    calculation-config:
      expression: "'File Processing Summary: Processing completed using ' + #approach + ' (Summary: ' + T(java.time.LocalDateTime).now().toString() + ')'"
      result-field: "fileProcessingSummary"
    field-mappings:
      - source-field: "fileProcessingSummary"
        target-field: "fileProcessingSummary"
