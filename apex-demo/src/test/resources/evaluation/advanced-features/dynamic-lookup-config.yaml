# APEX Dynamic Lookup Configuration
# External data source configuration for dynamic lookup operations
# Replaces hardcoded lookup logic from ApexAdvancedFeaturesDemo

metadata:
  id: "dynamic-lookup-configuration"
  name: "Dynamic Lookup Configuration"
  version: "1.0.0"
  description: "Data-driven dynamic lookup configuration for advanced features"
  type: "external-data-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  tags: ["apex-demo", "evaluation", "advanced-features", "dynamic-lookup"]

# Dynamic lookup configuration by lookup type
data:
  instrument-types-lookup:
    lookup-id: "LOOKUP001"
    lookup-type: "instrument-types"
    description: "Financial instrument types lookup service"
    lookup-data:
      - key: "Equity"
        value: "Equity Securities"
        metadata:
          risk-level: "Medium"
          liquidity: "High"
          market-hours: "9:30-16:00 EST"
      - key: "FixedIncome"
        value: "Fixed Income Securities"
        metadata:
          risk-level: "Low"
          liquidity: "Medium"
          market-hours: "8:00-17:00 EST"
      - key: "RealEstate"
        value: "Real Estate Investment Trusts"
        metadata:
          risk-level: "Medium"
          liquidity: "Low"
          market-hours: "9:30-16:00 EST"
      - key: "Commodity"
        value: "Commodity Futures"
        metadata:
          risk-level: "High"
          liquidity: "Medium"
          market-hours: "24/7"
    cache-settings:
      cache-enabled: true
      cache-ttl: 3600
      refresh-strategy: "lazy"
    
  risk-levels-lookup:
    lookup-id: "LOOKUP002"
    lookup-type: "risk-levels"
    description: "Investment risk levels lookup service"
    lookup-data:
      - key: "Low"
        value: "Conservative Risk Profile"
        metadata:
          max-volatility: 0.05
          recommended-allocation: 0.20
          suitable-age-range: "55+"
      - key: "Medium"
        value: "Moderate Risk Profile"
        metadata:
          max-volatility: 0.15
          recommended-allocation: 0.60
          suitable-age-range: "35-55"
      - key: "High"
        value: "Aggressive Risk Profile"
        metadata:
          max-volatility: 0.30
          recommended-allocation: 0.20
          suitable-age-range: "25-35"
    cache-settings:
      cache-enabled: true
      cache-ttl: 7200
      refresh-strategy: "eager"
    
  membership-levels-lookup:
    lookup-id: "LOOKUP003"
    lookup-type: "membership-levels"
    description: "Customer membership levels lookup service"
    lookup-data:
      - key: "Bronze"
        value: "Bronze Membership"
        metadata:
          benefits: ["Basic support", "Standard rates"]
          minimum-investment: 1000
          annual-fee: 0
      - key: "Silver"
        value: "Silver Membership"
        metadata:
          benefits: ["Priority support", "Reduced rates", "Quarterly reports"]
          minimum-investment: 10000
          annual-fee: 100
      - key: "Gold"
        value: "Gold Membership"
        metadata:
          benefits: ["Dedicated advisor", "Premium rates", "Monthly reports"]
          minimum-investment: 50000
          annual-fee: 500
      - key: "Platinum"
        value: "Platinum Membership"
        metadata:
          benefits: ["Personal banker", "VIP rates", "Real-time alerts"]
          minimum-investment: 250000
          annual-fee: 1000
    cache-settings:
      cache-enabled: true
      cache-ttl: 1800
      refresh-strategy: "scheduled"
    
  default:
    lookup-id: "LOOKUP000"
    lookup-type: "default"
    description: "Default lookup service"
    lookup-data:
      - key: "default"
        value: "Default Value"
        metadata: {}
    cache-settings:
      cache-enabled: false
      cache-ttl: 0
      refresh-strategy: "none"

# Lookup service patterns
service-patterns:
  financial-data-lookup:
    pattern-name: "Financial Data Lookup"
    description: "Lookup financial reference data"
    services:
      - service-type: "instrument-types-lookup"
        usage: "Product categorization"
        frequency: "High"
      - service-type: "risk-levels-lookup"
        usage: "Risk assessment"
        frequency: "Medium"
    integration-points:
      - "Portfolio management system"
      - "Risk management system"
      - "Reporting system"
      
  customer-service-lookup:
    pattern-name: "Customer Service Lookup"
    description: "Lookup customer service data"
    services:
      - service-type: "membership-levels-lookup"
        usage: "Service level determination"
        frequency: "High"
    integration-points:
      - "Customer relationship management"
      - "Service delivery system"
      - "Billing system"

# Dynamic lookup features
dynamic-features:
  runtime-service-creation:
    description: "Create lookup services at runtime"
    capabilities:
      - "Dynamic data source binding"
      - "Runtime schema definition"
      - "On-demand service instantiation"
      - "Service lifecycle management"
    
  lookup-chaining:
    description: "Chain multiple lookup services"
    capabilities:
      - "Sequential lookup execution"
      - "Result aggregation"
      - "Conditional lookup branching"
      - "Error handling and fallback"
    
  data-source-management:
    description: "Manage multiple data sources"
    capabilities:
      - "Multi-source data integration"
      - "Data source failover"
      - "Load balancing across sources"
      - "Data consistency management"

# Performance optimization
performance-optimization:
  caching-strategies:
    local-cache:
      type: "In-memory LRU cache"
      size: 1000
      ttl: 3600
      eviction-policy: "LRU"
    
    distributed-cache:
      type: "Redis cluster"
      size: 10000
      ttl: 7200
      replication-factor: 3
    
    database-cache:
      type: "Database query cache"
      size: 5000
      ttl: 1800
      invalidation-strategy: "TTL-based"
  
  connection-pooling:
    pool-size: 20
    max-connections: 100
    connection-timeout: 5000
    idle-timeout: 300000
    
  query-optimization:
    indexing-strategy: "Composite indexes on lookup keys"
    query-caching: true
    result-pagination: true
    batch-processing: true

# Monitoring and observability
monitoring:
  performance-metrics:
    - "Lookup response time"
    - "Cache hit/miss ratios"
    - "Service availability"
    - "Error rates"
    
  business-metrics:
    - "Lookup usage patterns"
    - "Data freshness metrics"
    - "Service utilization"
    - "Cost per lookup"
    
  alerting:
    - condition: "response-time > 500ms"
      action: "performance-alert"
    - condition: "cache-hit-ratio < 80%"
      action: "cache-efficiency-alert"
    - condition: "error-rate > 2%"
      action: "reliability-alert"

# Integration specifications
integration:
  data-sources:
    - "Relational databases"
    - "NoSQL databases"
    - "External APIs"
    - "File-based data"
    - "In-memory data structures"
    
  protocols:
    - "HTTP/REST"
    - "JDBC"
    - "JMS"
    - "File I/O"
    - "In-process calls"
    
  formats:
    - "JSON"
    - "XML"
    - "CSV"
    - "Binary"
    - "Custom formats"




