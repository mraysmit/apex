# APEX YAML Configuration Demo Configuration
# Real APEX YAML configuration for YAML configuration demo
# Replaces all hardcoded YAML configuration demo logic from YamlConfigurationDemo (@version 2.0)

metadata:
  id: "yaml-configuration-demo-config"
  name: "YAML Configuration Demo Configuration"
  version: "2.0.0"
  description: "APEX-compliant YAML configuration demo with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "YAML Configuration"
  tags: ["yaml", "configuration", "demo", "enrichment", "external", "business-rules", "dynamic-loading"]

# APEX enrichment processing for YAML configuration operations (4 enrichments total)
enrichments:
  - id: "external-yaml-configuration-enrichment"
    name: "external-yaml-configuration"
    type: "calculation-enrichment"
    description: "Processes external YAML configuration with real APEX processing"
    condition: "#configurationType != null"
    calculation-config:
      expression: "'External YAML configuration processing: ' + #configurationType + ' with ' + (#configurationScope != null ? #configurationScope : 'default-scope') + ' configuration'"
      result-field: "externalYamlConfigurationResult"
    field-mappings:
      - source-field: "externalYamlConfigurationResult"
        target-field: "externalYamlConfigurationResult"

  - id: "business-rules-enrichment"
    name: "business-rules"
    type: "calculation-enrichment"
    description: "Processes business rules for user-editable rules"
    condition: "#rulesType != null"
    calculation-config:
      expression: "'Business rules processing: ' + #rulesType + ' with ' + (#rulesScope != null ? #rulesScope : 'default-rules') + ' rules'"
      result-field: "businessRulesResult"
    field-mappings:
      - source-field: "businessRulesResult"
        target-field: "businessRulesResult"

  - id: "dynamic-loading-enrichment"
    name: "dynamic-loading"
    type: "calculation-enrichment"
    description: "Processes dynamic loading and validation of configurations"
    condition: "#loadingType != null"
    calculation-config:
      expression: "'Dynamic loading processing: ' + #loadingType + ' with ' + (#loadingScope != null ? #loadingScope : 'default-validation') + ' loading'"
      result-field: "dynamicLoadingResult"
    field-mappings:
      - source-field: "dynamicLoadingResult"
        target-field: "dynamicLoadingResult"

  - id: "yaml-configuration-summary-enrichment"
    name: "yaml-configuration-summary"
    type: "calculation-enrichment"
    description: "Generates comprehensive YAML configuration summary"
    condition: "true"
    calculation-config:
      expression: "'YAML configuration processing completed using real APEX services with approach: ' + (#approach != null ? #approach : 'unknown')"
      result-field: "yamlConfigurationSummary"
    field-mappings:
      - source-field: "yamlConfigurationSummary"
        target-field: "yamlConfigurationSummary"



