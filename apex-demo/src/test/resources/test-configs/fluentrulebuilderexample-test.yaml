# APEX Fluent Rule Builder Demo Configuration
# Real APEX YAML configuration for fluent rule builder processing
# Replaces all hardcoded fluent rule builder logic from FluentRuleBuilderExample (@version 2.0)

metadata:
  id: "fluent-rule-builder-demo-config"
  name: "Fluent Rule Builder Demo Configuration"
  version: "2.0.0"
  description: "APEX-compliant fluent rule builder processing with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "Fluent Rule Builder"
  tags: ["fluent-rule-builder", "demo", "enrichment", "customer-contexts", "rule-chains", "api-patterns"]

# APEX enrichment processing for fluent rule builder operations (4 enrichments total)
enrichments:
  - id: "customer-contexts-enrichment"
    name: "customer-contexts"
    type: "calculation-enrichment"
    description: "Processes customer processing contexts for different context types"
    condition: "#contextType != null"
    calculation-config:
      expression: "'Customer contexts processing: ' + #contextType + ' with comprehensive context handling'"
      result-field: "customerContextsResult"
    field-mappings:
      - source-field: "customerContextsResult"
        target-field: "customerContextsResult"
        
  - id: "rule-chains-enrichment"
    name: "rule-chains"
    type: "calculation-enrichment"
    description: "Processes rule chain definitions for different chain types"
    condition: "#chainType != null"
    calculation-config:
      expression: "'Rule chains processing: ' + #chainType + ' with comprehensive chain definitions'"
      result-field: "ruleChainsResult"
    field-mappings:
      - source-field: "ruleChainsResult"
        target-field: "ruleChainsResult"
        
  - id: "api-patterns-enrichment"
    name: "api-patterns"
    type: "calculation-enrichment"
    description: "Processes fluent API patterns for different pattern types"
    condition: "#patternType != null"
    calculation-config:
      expression: "'API patterns processing: ' + #patternType + ' with comprehensive fluent API design'"
      result-field: "apiPatternsResult"
    field-mappings:
      - source-field: "apiPatternsResult"
        target-field: "apiPatternsResult"
        
  - id: "builder-summary-enrichment"
    name: "builder-summary"
    type: "calculation-enrichment"
    description: "Generates comprehensive fluent rule builder summary"
    condition: "true"
    calculation-config:
      expression: "'Fluent rule builder processing completed using real APEX services with approach: ' + (#approach != null ? #approach : 'unknown')"
      result-field: "builderSummary"
    field-mappings:
      - source-field: "builderSummary"
        target-field: "builderSummary"
