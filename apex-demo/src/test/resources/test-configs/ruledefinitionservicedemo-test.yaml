# APEX Rule Definition Service Demo Configuration
# Real APEX YAML configuration for rule definition service demo
# Replaces all hardcoded rule definition service demo logic from RuleDefinitionServiceDemo (@version 2.0)

metadata:
  id: "rule-definition-service-demo-config"
  name: "Rule Definition Service Demo Configuration"
  version: "2.0.0"
  description: "APEX-compliant rule definition service demo with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  business-domain: "Rule Definition Service"
  tags: ["rule", "definition", "service", "demo", "enrichment", "engines", "frameworks", "processors"]

# APEX enrichment processing for rule definition service operations (4 enrichments total)
enrichments:
  - id: "rule-creation-engines-enrichment"
    name: "rule-creation-engines"
    type: "calculation-enrichment"
    description: "Processes rule creation engines with real APEX processing"
    condition: "#engineType != null"
    calculation-config:
      expression: "'Rule creation engines processing: ' + #engineType + ' with ' + (#engineScope != null ? #engineScope : 'default-scope') + ' creation'"
      result-field: "ruleCreationEnginesResult"
    field-mappings:
      - source-field: "ruleCreationEnginesResult"
        target-field: "ruleCreationEnginesResult"
        
  - id: "management-frameworks-enrichment"
    name: "management-frameworks"
    type: "calculation-enrichment"
    description: "Processes management frameworks for rule definition"
    condition: "#frameworkType != null"
    calculation-config:
      expression: "'Management frameworks processing: ' + #frameworkType + ' with ' + (#frameworkScope != null ? #frameworkScope : 'default-definition') + ' management'"
      result-field: "managementFrameworksResult"
    field-mappings:
      - source-field: "managementFrameworksResult"
        target-field: "managementFrameworksResult"
        
  - id: "analysis-processors-enrichment"
    name: "analysis-processors"
    type: "calculation-enrichment"
    description: "Processes analysis processors for rule validation"
    condition: "#processorType != null"
    calculation-config:
      expression: "'Analysis processors processing: ' + #processorType + ' with ' + (#processorScope != null ? #processorScope : 'default-validation') + ' analysis'"
      result-field: "analysisProcessorsResult"
    field-mappings:
      - source-field: "analysisProcessorsResult"
        target-field: "analysisProcessorsResult"
        
  - id: "rule-definition-service-summary-enrichment"
    name: "rule-definition-service-summary"
    type: "calculation-enrichment"
    description: "Generates comprehensive rule definition service summary"
    condition: "true"
    calculation-config:
      expression: "'Rule definition service processing completed using real APEX services with approach: ' + (#approach != null ? #approach : 'unknown')"
      result-field: "ruleDefinitionServiceSummary"
    field-mappings:
      - source-field: "ruleDefinitionServiceSummary"
        target-field: "ruleDefinitionServiceSummary"
