# ============================================================================
# APEX YAML Configuration File
# ============================================================================
# Used by: YamlConfigurationValidationTest.java (testCustomerTransformerFunctionality method)
# Purpose: Customer data transformation demonstration using APEX enrichment capabilities
#          for testing customer processing, segmentation, and profile enrichment
#          data transformation logic with real business scenarios
# ============================================================================

metadata:
  id: "customer-transformer-demo"
  name: "Customer Transformer Demo"
  version: "1.0.0"
  description: "APEX-compliant customer transformer with real enrichment services"
  type: "rule-config"
  author: "apex.demo.team@company.com"
  created-date: "2024-12-24"
  tags: ["apex-demo", "enrichment", "customer", "transformer"]

# Data sources for customer transformer configurations
data-sources:
  - name: "customer-transformer-rules-config"
    type: "inline"
    description: "Customer transformer rules configuration data source"

  - name: "customer-field-actions-config"
    type: "inline"
    description: "Customer field actions configuration data source"

  - name: "customer-segments-config"
    type: "inline"
    description: "Customer segments configuration data source"

# APEX enrichment processing for customer transformer
enrichments:
  - id: "customer-segments-processing"
    name: "customer-segments-processing"
    type: "field-enrichment"
    description: "Process customer segments using data-driven configuration"
    enabled: true
    condition: "true"
    field-mappings:
      - source-field: "segmentType"
        target-field: "customerSegmentsResult"
        default-value: "Customer segments processed: Membership-based segmentation and profile enrichment applied"

  - id: "customer-field-actions-processing"
    name: "customer-field-actions-processing"
    type: "field-enrichment"
    description: "Process customer field actions using data-driven configuration"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "actionType"
        target-field: "customerFieldActionsResult"
        default-value: "Customer field actions processed: Profile and preference setting actions applied"

  - id: "customer-profile-enrichment"
    name: "customer-profile-enrichment"
    type: "field-enrichment"
    description: "Process customer profile enrichment using data-driven configuration"
    enabled: true
    condition: "false"
    field-mappings:
      - source-field: "profileType"
        target-field: "customerProfileEnrichmentResult"
        default-value: "Customer profile enrichment processed: Profile enhancement completed with appropriate data"

  - id: "customer-transformer-summary"
    name: "customer-transformer-summary"
    type: "field-enrichment"
    description: "Generate customer transformer summary"
    enabled: true
    condition: "true"
    field-mappings:
      - source-field: "transformerType"
        target-field: "customerTransformerSummary"
        default-value: "Customer transformer completed using real APEX services"

# Transformer processing categories
processing-categories:
  - category: "customer-segments-processing"
    description: "Customer segments creation and management"
    processing-type: "real-apex-enrichment"
    segment-types:
      - "Membership-based segments"
      - "Region-based segments"
      - "Value-based segments"
      - "Behavior-based segments"

  - category: "customer-field-actions-processing"
    description: "Customer field actions processing"
    processing-type: "real-apex-enrichment"
    action-types:
      - "Profile setting actions"
      - "Preference setting actions"
      - "Status assignment actions"
      - "Tier rating actions"

  - category: "customer-profile-enrichment"
    description: "Customer profile enrichment processing"
    processing-type: "real-apex-enrichment"
    enrichment-aspects:
      - "Profile data enrichment"
      - "Preference data enrichment"
      - "Behavioral data enrichment"
      - "Combined profile assessments"

# Customer transformation patterns
transformation-patterns:
  membership-based-pattern:
    pattern-name: "Membership-Based Transformation"
    description: "Pattern for transforming customers based on membership tier"
    membership-tiers: ["PLATINUM", "GOLD", "SILVER", "BRONZE", "BASIC"]
    transformation-logic:
      - "Platinum customers get premium service categories"
      - "Gold customers get enhanced service categories"
      - "Silver customers get standard service categories"
      - "Bronze customers get basic service categories"

  region-based-pattern:
    pattern-name: "Region-Based Transformation"
    description: "Pattern for transforming customers based on geographic region"
    regions: ["AMERICAS", "EMEA", "APAC", "DOMESTIC"]
    transformation-logic:
      - "Americas customers get regional compliance processing"
      - "EMEA customers get European regulatory processing"
      - "APAC customers get Asian market processing"
      - "Domestic customers get local regulatory processing"

  value-based-pattern:
    pattern-name: "Value-Based Transformation"
    description: "Pattern for transforming customers based on account value"
    value-ranges: ["HIGH_VALUE", "MEDIUM_VALUE", "LOW_VALUE", "INSTITUTIONAL"]
    transformation-logic:
      - "High value customers get personalized processing"
      - "Medium value customers get standard processing"
      - "Low value customers get automated processing"
      - "Institutional customers get specialized processing"

# Performance settings
performance-settings:
  customer-segments-processing:
    processing-timeout: 5000
    parallel-processing: true
    cache-results: true

  customer-field-actions-processing:
    processing-timeout: 3000
    parallel-processing: true
    action-optimization: true

  customer-profile-enrichment:
    processing-timeout: 4000
    parallel-processing: false
    profile-intensive: true

# Demonstration scenarios
demonstration-scenarios:
  comprehensive-customer-transformation:
    scenario-name: "Comprehensive Customer Transformation"
    description: "Demonstrate comprehensive customer transformation processing"
    steps:
      - "Load customer transformer configurations"
      - "Process customer segments"
      - "Process customer field actions"
      - "Process customer profile enrichment"
      - "Generate transformation results"
    expected-outcome: "Successful comprehensive customer transformation"

  membership-tier-transformation:
    scenario-name: "Membership Tier Transformation"
    description: "Demonstrate membership tier-based transformation"
    steps:
      - "Load membership tier configurations"
      - "Process Platinum customer transformations"
      - "Process Gold customer transformations"
      - "Process Silver customer transformations"
      - "Generate membership transformation results"
    expected-outcome: "Successful membership tier transformation"

  region-based-transformation:
    scenario-name: "Region-Based Transformation"
    description: "Demonstrate region-based transformation"
    steps:
      - "Load region-based configurations"
      - "Process Americas customer transformations"
      - "Process EMEA customer transformations"
      - "Generate regional transformation results"
    expected-outcome: "Successful region-based transformation"

# Customer transformation configuration
customer-transformation:
  transformation-categories:
    category-type: "Customer Transformation Categories"
    description: "Categories for customer transformation processing"
    available-categories:
      - "MembershipTier"
      - "RegionType"
      - "ValueRange"
      - "ProfileCategory"
      - "SegmentType"
    category-characteristics:
      - "Membership-based categorization"
      - "Region-based categorization"
      - "Value-based categorization"
      - "Profile-based categorization"

# Quality assurance
quality-assurance:
  transformation-reliability:
    - "Transformation rules must be deterministic"
    - "Field actions must be accurate"
    - "Profile enrichment must be well-defined"
    - "Performance must meet SLA requirements"

  customer-accuracy:
    - "Customer transformation must be precise"
    - "Membership categorization must be correct"
    - "Region assignments must be appropriate"
    - "Profile assessments must be comprehensive"

  processing-requirements:
    - "Transformation time must be reasonable"
    - "Memory usage must be controlled"
    - "Rule execution must be efficient"
    - "Parallel processing must be thread-safe"

# Output configuration
output:
  include-input: true
  include-metadata: true
  format: "enhanced"
  transformation-summary: true
  performance-metrics: true
  rule-details: true
  action-details: true
  profile-analysis: true
