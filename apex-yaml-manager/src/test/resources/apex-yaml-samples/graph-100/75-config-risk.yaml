metadata:
  id: graph100-config-risk
  name: Graph100 External Data Config - Risk
  description: Risk management system configuration
  version: 0.3.0
  type: external-data-config
  author: apex.demo@company.com
  created-date: 2025-10-20

dataSources:
  risk-system:
    type: "database"
    enabled: true
    description: "Risk management database"

    connection:
      driver: "h2"
      database: "./target/h2-demo/risk_data"
      username: "sa"
      password: ""
      mode: "PostgreSQL"

    operations:
      checkRiskLimits: "SELECT * FROM risk_limits WHERE counterparty_id = :counterpartyId"
      updateExposure: "UPDATE exposures SET amount = :amount WHERE trade_id = :tradeId"

    schema:
      auto-create: true
      init-script: |
        CREATE TABLE IF NOT EXISTS risk_limits (
          counterparty_id VARCHAR(50) PRIMARY KEY,
          credit_limit DECIMAL(15,2),
          exposure_limit DECIMAL(15,2)
        );
