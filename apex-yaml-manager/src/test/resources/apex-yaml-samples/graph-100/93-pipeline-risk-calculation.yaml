metadata:
  id: graph100-pipeline-risk-calculation
  name: Graph100 Pipeline Risk Calculation
  description: Risk calculation and monitoring pipeline
  version: 0.3.0
  type: pipeline
  author: apex.demo@company.com
  created-date: 2025-10-20

pipeline:
  id: risk-calculation-pipeline
  name: Risk Calculation and Monitoring
  description: Calculates and monitors trading risk metrics

  stages:
    - name: "extract-position-data"
      type: "extract"
      description: "Extract current position data"
      execution-order: 1
      config-file: "75-config-risk.yaml"

    - name: "apply-risk-factors"
      type: "transform"
      description: "Apply risk factors to positions"
      execution-order: 2
      depends-on: ["extract-position-data"]
      config-file: "87-dataset-risk-factors.yaml"

    - name: "calculate-var"
      type: "transform"
      description: "Calculate Value at Risk"
      execution-order: 3
      depends-on: ["apply-risk-factors"]

    - name: "monitor-limits"
      type: "validate"
      description: "Monitor against risk limits"
      execution-order: 4
      depends-on: ["calculate-var"]
      config-file: "88-dataset-business-rules.yaml"

data-sources:
  - name: "risk-data"
    source: "75-config-risk.yaml"
    enabled: true
  - name: "risk-factors"
    source: "87-dataset-risk-factors.yaml"
    enabled: true
