metadata:
  id: derivatives-scenario
  type: scenario
  version: "1.0"
  description: "Derivatives trading scenario"
  created-date: "2025-10-20"
  author: "APEX Test Generator"

# File-based dependencies following APEX patterns
rule-configurations:
  - "056-derivatives-validation.yaml"
  - "057-derivatives-risk.yaml"
enrichment-refs:
  - "155-greeks-enrichment.yaml"
  - "156-volatility-enrichment.yaml"
config-files:
  - "254-derivatives-data-config.yaml"
  - "255-volatility-data-config.yaml"
scenario:
  scenario-id: "derivatives-scenario"
  description: "Derivatives trading scenario"
  
  classification-rule:
    condition: "#dataType != null && #dataType == 'TRADE'"
    description: "Route trade data to processing"
  
  processing-stages:
    - stage-name: "validation"
      description: "Validate incoming data"
      config-file: "validation-rules.yaml"
      execution-order: 1
      failure-policy: "terminate"
    - stage-name: "enrichment"
      description: "Enrich with reference data"
      config-file: "enrichment-rules.yaml"
      execution-order: 2
      failure-policy: "continue"
  
  data-types:
    - "Trade"
    - "java.util.Map"
