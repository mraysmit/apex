metadata:
  id: yield-curve-enrichment
  type: enrichment
  version: "1.0"
  description: "Yield curve enrichment"
  created-date: "2025-10-20"
  author: "APEX Test Generator"

# File-based dependencies following APEX patterns
dependencies:
  - "252-bond-data-config.yaml"
enrichments:
  - id: yield-curve-enrichment-enrichment-1
    name: "Primary Enrichment"
    type: lookup-enrichment
    description: "Primary enrichment for Yield curve enrichment"
    condition: "#symbol != null"
    lookup-config:
      lookup-key: "#symbol"
      lookup-dataset:
        type: external
        data-source-ref: primary-data-source
    field-mappings:
      - source-field: enrichedValue1
        target-field: enriched.field1
  - id: yield-curve-enrichment-enrichment-2
    name: "Secondary Enrichment"
    type: calculation-enrichment
    description: "Secondary enrichment for Yield curve enrichment"
    condition: "#value != null"
    calculation-config:
      expression: "#value * 1.1"
      result-field: calculatedValue
    field-mappings:
      - source-field: calculatedValue
        target-field: enriched.field2
